<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>前瞻科技系列論壇</title>

<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500&family=Montserrat:wght@500&display=swap" rel="stylesheet">

<style>
/* ===== 字型（Akrobat） ===== */
@font-face{ font-family:'Akrobat'; src:url('assets/fonts/Akrobat-Regular.otf') format('opentype'); font-weight:400; font-style:normal; font-display:swap; }
@font-face{ font-family:'Akrobat'; src:url('assets/fonts/Akrobat-SemiBold.otf') format('opentype'); font-weight:500; font-style:normal; font-display:swap; }

/* ===== 基礎 ===== */
html,body{ margin:0; background:#000; color:#fff; overflow-x:hidden; }
html{ font-family:"Noto Sans TC",-apple-system,BlinkMacSystemFont,"Segoe UI",Arial,"PingFang TC","Heiti TC",sans-serif; scroll-behavior: smooth; }

/* 色彩 & 間距變數 */
:root{
  --tab-default:#501cf2;
  --tab-active:#ff2b8a;
  --pink:#ff5e99;
  --sp-photo-mobile:120px; /* mobile speaker photo width */
  --glass-bg: rgba(255,255,255,.06);
  --glass-bd: rgba(255,255,255,.18);
  --glass-drop: 0 10px 24px rgba(0,0,0,.28);
  --f2: clamp(20px, 2.4vw, 56px);
  --hero-pad: max(12px, 5.208333vw);
  --ag-time-h: 36px;
  --ag-time-pad-y: 6px;
  --ag-time-pad-x: 14px;
  --floating-offset: 140px;
  --section-gap-top: clamp(40px, 6vw, 96px);
  --section-gap-bottom: 20px;
  --subheading-gap-top: clamp(12px, 2.2vw, 28px);
  --subheading-gap-bottom: 10px;
  --floating-gap: 10px; /* 漂浮元件之間的統一間距 */
}

/* 錨點滾動偏移 */
section[id], h2[id]{ scroll-margin-top: var(--floating-offset); }

/* ===== HERO（含貼底選單） ===== */
.hero-wrapper{
  position:relative;
  width:100%;
  aspect-ratio:1920/940;
  overflow:hidden;
  background:#0b0c0f url("assets/img/hero-bg.jpg") center/cover no-repeat;
}
.hero-img{ position:absolute; max-width:100%; height:auto; pointer-events:none; user-select:none; opacity:1 }

/* 三張圖（以 1920×940 標定） */
.hero-logo{     top:calc( 50/940*100%); left:calc( 70/1920*100%); width:calc(504/1920*100%); animation:slideInLeft 1s ease-out forwards .2s; }
.hero-title{    top:calc(250/940*100%); left:calc( 70/1920*100%); width:calc(880/1920*100%); animation:slideInUp   1s ease-out forwards .6s; }
.hero-subtitle{ top:calc(550/940*100%); left:calc( 70/1920*100%); width:calc(880/1920*100%); animation:slideInUp   1s ease-out forwards 1s; }

@keyframes slideInLeft{ from{ transform:translateX(-50px); opacity:0 } to{ transform:translateX(0); opacity:1 } }
@keyframes slideInUp  { from{ transform:translateY(40px); opacity:0 } to{ transform:translateY(0);  opacity:1 } }

/* 調整：讓 title/subtitle 由下往上浮現 */
.hero-title,
.hero-subtitle{
  transform: translateY(40px);
  opacity: 0;
}

/* ===== 日期選單（卡片式，置於 HERO 底部） ===== */
.event-bar{
  position:absolute;
  bottom:0;
  transform:none; /* 移除置中變換 */
  width:auto; /* 讓寬度自動適應 */
  max-width:none;
  background:transparent;
  padding:0;
  padding-bottom: env(safe-area-inset-bottom, 0px);
  box-sizing:border-box;
  z-index:5;
}
.event-bar .bar{
  display:grid;
  grid-template-columns: repeat(4, 1fr); /* 改為 1fr，讓按鈕平均分配寬度 */
  gap:clamp(10px, 1.25vw, 20px);
  align-items:stretch;
  width: 100%; /* 確保充分利用容器寬度 */
}
.bar-item{
  --c1: var(--tab-default);
  --c2: #2b0f7a;
  appearance:none; border:none; outline:none;
  color:#fff; cursor:pointer; user-select:none;
  display:flex; align-items:center; justify-content:center; gap:10px;
  border-radius:10px;
  padding:8px 16px; /* 縮小內邊距 */
  background:linear-gradient(135deg, var(--c1) 0%, var(--c2) 100%);
  background-size:200% 200%; background-position:0% 50%;
  transition:background-position .6s ease, transform .2s ease, box-shadow .3s ease;
  box-shadow:0 8px 20px rgba(0,0,0,.25);
  white-space:nowrap;
  min-width:120px; /* 保持最小寬度 */
  width: 100%; /* 確保按鈕填滿分配的網格空間 */
  flex-shrink:0;
}
.bar-item:hover{ background-position:100% 50%; transform:translateY(-1px); }
.bar-item[aria-current="true"]{ --c1:var(--tab-active); --c2:#a71858; animation:gradFlow 3s ease-in-out infinite alternate; }
@keyframes gradFlow{ from{background-position:0% 50%} to{background-position:100% 50%} }
.bar-arrow{ font-size:clamp(18px, 2.2vw, 28px); line-height:1; display:inline-block; animation:arrowOsc .8s ease-in-out infinite alternate; }
.bar-date{  font-family:"Akrobat","Noto Sans TC",sans-serif; font-weight:500; font-size:clamp(20px, 2.4vw, 32px); letter-spacing:.025em; white-space:nowrap; }
@keyframes arrowOsc{ from{transform:translateX(-3px)} to{transform:translateX(3px)} }

/* ===== 活動資訊（含與 HERO 的黑→藍銜接） ===== */
.event-info{
  position:relative;
  background:#112240;
  padding-block:20px;
  overflow:hidden;
}
.event-info::before{
  content:"";
  position:absolute; top:0; left:0; right:0;
  height:500px;
  background:linear-gradient(to bottom, #000 0%, #112240 100%);
  pointer-events:none;
}
.event-info .inner{
  position:relative; z-index:1;
  max-width:1200px; margin:0 auto; padding:0 20px;
  line-height:1.8; font-weight:300; font-size:1.2em;
}

/* ===== 主標 / 副標 ===== */
.topic-wrap{ text-align:center; margin:16px auto 24px; max-width:1000px; }
.topic-badge{
  display:inline-block; background:transparent; color:#fff;
  font-size:clamp(23px, 3vw, 72px); font-weight:400;
  padding:10px 20px; border-radius:20px; border:4px solid var(--pink);
  margin-top:20px; margin-bottom:20px;
  text-align:center;
}
.topic-badge .topic-en{
  display:block;
  font-size:clamp(20px, 1.8vw, 42px);
  font-weight:400;
  color:#ddd;
  margin-top:5px;
  margin-bottom:0;
  font-family:"Akrobat","Noto Sans TC",sans-serif;
}

/* 內容主標 */
.event-info h2:not(:first-of-type){
  margin-top: var(--section-gap-top);
  margin-bottom: var(--section-gap-bottom);
}
.event-info h2:first-of-type{
  margin-bottom: var(--section-gap-bottom);
}
.event-info h2 {
  font-size:clamp(20px,1.8vw,30px);
  font-weight:500;
}

/* ===== CTA ===== */
.register-btn{
  display:flex; align-items:center; justify-content:center; gap:14px;
  margin:40px auto 0; padding:16px 15px 16px 35px; width:220px;
  background:#f48c06; color:#fff; border:6px solid #fff; border-radius:999px;
  font-size:1.8rem; font-weight:500; text-decoration:none;
  box-shadow:0 6px 18px rgba(0,0,0,.18); transition:all .3s ease;
}
.register-btn svg{ width:1.8em; height:1.5em; flex:0 0 auto; will-change:transform; animation:arrowOsc .8s ease-in-out infinite alternate }
.register-btn svg path{ fill:none; stroke:#fff; stroke-width:5; stroke-linecap:round; stroke-linejoin:round; vector-effect:non-scaling-stroke }
.register-btn:hover{ background:#f48c06; border-color:transparent; transform:scale(.95); box-shadow:0 4px 12px rgba(0,0,0,.15) }
.register-btn:active{ transform:scale(.9) }
.register-btn:focus-visible{ outline:3px solid rgba(255,255,255,.6); outline-offset:3px }

/* ===== 時間／地點（穩定） ===== */
.topic-rows{
  margin-top:18px; margin-bottom:clamp(28px, 4vw, 56px);
  display:flex; 
  flex-direction: column;
  align-items: center; /* 整體居中 */
  gap:12px;
  width:100%;
  max-width:100%;
  text-align:left; 
}

/* 創建一個內部容器來實現左對齊 */
.topic-rows-inner {
  display: grid;
  gap: 20px;
  justify-items: start; /* 內部左對齊 */
}
.topic-row{
  display:grid; grid-template-columns:auto 1fr;
  align-items:center; column-gap:10px;
  width:max-content; text-align:left;
  font-size:clamp(20px, 1.8vw, 30px);
  /* 在 flexbox 容器中會自動居中 */
}

/* 小螢幕時的特殊處理 */
@media (max-width: 768px) {
  .topic-row {
    width: 100%; /* 小螢幕時佔滿寬度 */
    max-width: 100%;
  }
  
  .topic-row > div:last-child {
    word-break: break-word; /* 允許適當的斷詞 */
    overflow-wrap: break-word;
    hyphens: auto; /* 自動連字符 */
  }
}

@media (max-width: 480px) {
  .topic-row {
    grid-template-columns: auto minmax(0, 1fr); /* 確保第二列能壓縮 */
    column-gap: 8px; /* 縮小間距 */
  }
  
  .topic-row > div:last-child {
    font-size: clamp(16px, 4vw, 20px); /* 小螢幕時稍微縮小字體 */
    line-height: 1.4;
  }
}
.topic-row .pill{
  min-width:64px; height:48px; padding:0 14px;
  display:inline-flex; align-items:center; justify-content:center;
  white-space:nowrap; border-radius:999px;
  background:rgba(255,255,255,.18);
  font-weight:500;
  line-height:1;
  font-size: inherit;
}
.topic-row > div:last-child{
  min-width:0; display:flex; align-items:center; 
  flex-wrap:wrap; gap:.5em;
  min-height:48px; line-height:1.8; overflow-wrap:anywhere; text-align:left;
}

/* 地點區域基礎樣式 - 允許自然換行 */
.topic-row.place > div:last-child {
  display: block !important; /* 使用 !important 確保覆蓋 */
  word-break: break-word;
  overflow-wrap: break-word;
  white-space: normal;
  overflow: visible;
  text-overflow: unset;
  gap: unset; /* 移除 flex gap */
}

/* 地點區域特殊處理 - 確保線上同步緊跟在會議室後 */
.place {
  /* 移除 flex 設置，讓地點區域使用正常的 grid 布局 */
  /* display:flex; align-items:center; flex-wrap:wrap; gap:.5em; */
  /* 讓地點文字可以斷行，但按鈕不會被分離 */
  word-break: break-word; 
}
.place .hl{
.place .hl{
  display:inline-flex; align-items:center; border-radius:999px;
  background:rgba(255,255,255,.25); color:#fff; line-height:1;
  margin-left:.6em; font-weight:500;
  font-size:clamp(14px, 1.25vw, 20px); padding:6px 16px; vertical-align:middle; 
  white-space:nowrap;
  /* 確保按鈕緊跟在會議室後面，永不分離 */
  flex-shrink: 0; /* 防止按鈕被壓縮 */
  /* 使用 CSS 確保不會被換行分離 */
  display: inline-block; /* 改為 inline-block 以更好地控制換行 */
  vertical-align: middle;
}
}

/* ===== 講者 ===== */
.speaker-grid{ margin-top:36px; margin-bottom:60px; display:grid; grid-template-columns:repeat(3,1fr); gap:36px }
.speaker{ text-align:center }
.speaker .photo{
  width:200px; height:200px; border-radius:50%;
  margin:0 auto 18px; object-fit:cover; object-position:center;
  box-shadow:0 8px 24px rgba(0,0,0,.25); background:#0b0c0f;
}
.speaker .name{ font-size:1.6rem; font-weight:500; margin:0 0 10px }
.speaker .title-chip{ 
  display: flex !important; /* 覆蓋 -webkit-box，優先使用 flex */
  padding:0; 
  border-radius:0; 
  background:transparent; 
  color:#cfd6e6; 
  font-weight:500; 
  font-size:1rem; 
  margin-top:2px; /* 縮短人名與職稱間的距離，從 8px 改為 2px */
  /* 職稱區域統一高度 */
  height: 48px; /* 固定高度，可容納2行職稱 */
  line-height: 1.5; /* 增加行距，從 1.2 改為 1.5 */
  text-align: center; /* 水平置中 */
  /* 文字溢出處理 */
  overflow: hidden;
  text-overflow: ellipsis;
  /* 多行文字截斷 */
  -webkit-line-clamp: 2; /* 最多顯示2行 */
  line-clamp: 2;
  -webkit-box-orient: vertical;
  /* 垂直置中 - 使用 flex 來實現完美的垂直居中 */
  box-sizing: border-box;
  align-items: center; /* 垂直置中 */
  justify-content: center; /* 水平置中 */
  /* 多行文字在 flex 中的處理 */
  word-break: break-word;
}

.speaker .bio{ display:none; }
.bio-card{
  margin-top:12px;
  background: rgba(255,255,255,0.06);
  border: 1px solid rgba(255,255,255,0.12);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  color:#cfd6e6;
  padding:14px;
  border-radius:12px;
  font-size:0.95rem;
  line-height:1.6;
  max-width:360px;
  margin-left:auto; margin-right:auto;
  /* 統一高度解決方案 */
  min-height: 120px; /* 設定最小高度 */
  height: 120px; /* 固定高度 */
  display: flex;
  flex-direction: column;
  justify-content: center; /* 內容垂直置中 */
}

.bio-card .bio-desc{ 
  color:inherit; 
  font-size:0.95rem; 
  line-height:1.6; 
  /* 文字溢出處理 */
  overflow: hidden;
  display: -webkit-box;
  -webkit-line-clamp: 4; /* 限制最多4行 */
  line-clamp: 4; /* 標準屬性 */
  -webkit-box-orient: vertical;
  text-overflow: ellipsis;
}
.meta{ display:flex; flex-direction:column; gap:6px; }
.meta .name{ margin:0; }

/* carousel: sliding pages and pager styles */
.speakers-carousel{ position:relative; max-width:1200px; margin:0 auto; overflow:hidden; }
.speaker-pages{ display:flex; width:100%; transition:transform .6s cubic-bezier(.2,.9,.2,1); will-change:transform; }
.speaker-page{ flex:0 0 100%; box-sizing:border-box; padding:0; } /* 移除padding，讓講師區域與其他內容對齊 */

.speaker-pager{ display:flex; gap:12px; justify-content:center; margin-top:22px; }
.pager-dot{ width:14px; height:8px; background:rgba(255,255,255,.22); border-radius:8px; border:none; cursor:pointer; padding:0; }
.pager-dot[aria-current="true"]{ background:#fff; width:32px; height:8px; border-radius:999px; }

.speaker-page[aria-hidden="true"] { pointer-events: none; opacity: .98; }

/* Footer（與議程同色，滿版；無頂部分隔線） */
.sponsor-footer{
  background:#112240;
  padding:60px 0 44px; /* 增加上方間距 */
  border-top:none;
  box-shadow:none;
}
.sponsor-footer::before{
  content:none;
  display:none;
}

.sponsor-footer .inner{
  max-width:1200px;
  margin:0 auto;
  padding:0 32px; /* 調整為與其他區域一致的32px */
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:40px;
  align-items:center;
  justify-items:center;
}

.sponsor-block{
  display:flex;
  align-items:center;
  gap:18px;
}

.sponsor-tag{
  color:#cfd6e6;
  opacity:1;
  font-weight:500;
  letter-spacing:.04em;
  font-size:clamp(14px,1.1vw,18px);
  white-space:nowrap;
}

.sponsor-logo{
  display:block;
  height:46px;
  width:auto;
  max-width:100%;
}

/* ===== 段落與內容間距優化 ===== */
.event-info ul, .event-info p, .event-info .speaker-grid, .event-info .ag-grid{ margin-bottom: 0; padding-bottom: 0; }
.event-info .ag-title{ margin-top: var(--subheading-gap-top); margin-bottom: var(--subheading-gap-bottom); }

/* ===== 響應式設計 ===== */
@media (max-width:1200px){
  .topic-rows{ width:min(100%, 1000px); margin:18px auto clamp(28px, 4vw, 56px); }
  .topic-row{ width:auto; max-width:100%; }
}

@media (max-width:991.98px){
  .event-info .topic-row{ align-items:baseline; }
  .event-info .topic-row > div:last-child{ display:flex; align-items:baseline; min-height:0; }
  
  /* 地點區域特殊處理 - 允許正常換行 */
  .event-info .topic-row.place > div:last-child{ 
    display:block; 
    word-break: break-word;
    overflow-wrap: break-word;
    white-space: normal; /* 允許正常換行 */
  }
}

@media (max-width:768px){
  /* Hero 手機版 */
  .hero-wrapper{ aspect-ratio:1920/1800; background-image:url("assets/img/hero-bg-m.jpg"); background-position:center top; }
  .hero-logo{ top:6vw; left:6vw; width:50vw; }
  .hero-title{ top:28vw; left:6vw; width:65vw; }
  .hero-subtitle{ top:52vw; left:6vw; width:65vw; }

  /* 活動區內容向上靠近 */
  .event-info{ padding-top:12px; }
  .event-info .inner{ padding:0 20px; } /* 手機版調整為與浮動選單一致 */
  .event-info h2:not(:first-of-type) { margin-top: clamp(40px, 8vw, 60px); } /* 增加段落間距 */
  .topic-wrap{ margin:8px auto 12px; }
  .topic-badge{ 
    margin-top:12px; 
    max-width: calc(100vw - 40px); /* 與 2×2 選單同寬：扣除左右 20px 邊距 */
    width: 100%;
    box-sizing: border-box;
  }
  .topic-badge .topic-en{ margin-top:4px }

  /* 日期選單 */
  .event-bar {
    left: 20px; /* 手機版使用固定邊距 */
    right: 20px; /* 手機版使用固定邊距 */
  }
  .event-bar .bar{
    grid-template-columns: repeat(2, 1fr); /* 2×2 佈局 */
    gap: clamp(4px, 1.1vw, 8px); /* 適當間距 */
    box-sizing: border-box;
  }
  
  /* 講者區域 */
  .speakers-carousel{ overflow:visible; }
  .speaker-pages{ display:block; transform:none; }
  .speaker-page{ flex:0 0 auto; width:100%; padding:0; margin-bottom:18px; } /* 移除padding以符合統一間距 */
  .speaker-grid{ display:block; gap:12px; }
  
  .speaker{
    margin-bottom:36px; text-align:left; display:grid;
    grid-template-columns: var(--sp-photo-mobile) 1fr;
    grid-template-areas:
      "photo meta"
      "bio   bio";
    column-gap:18px;
    row-gap:10px;
    align-items:center;
    padding:0; /* 確保沒有額外padding造成溢出 */
    box-sizing:border-box;
  }
  
  .speaker .photo{
    grid-area:photo;
    width:var(--sp-photo-mobile);
    height:var(--sp-photo-mobile);
    margin:0;
    border-radius:50%;
    object-fit:cover;
  }
  
  .meta{
    grid-area:meta;
    display:flex;
    flex-direction:column;
    align-items:flex-start;
    min-width:0;
  }
  
  .speaker .name{
    margin:0;
    font-weight:800;
    font-size:clamp(22px,6.2vw,28px);
    line-height:1.15;
  }
  
  .speaker .title-chip{
    margin-top:6px;
    font-size:clamp(14px,4.2vw,18px);
    /* 手機版時確保左對齊且有適當行距 */
    text-align: left;
    line-height: 1.4;
    height: auto;
    align-items: flex-start;
    justify-content: flex-start;
  }
  
  .bio-card{
    grid-area:bio;
    width:100%;
    max-width:none;
    margin:0;
    padding:14px;
    text-align:left;
    box-sizing:border-box; /* 確保padding不會造成溢出 */
    /* 確保與floating-tab-bar相同的視覺寬度 */
    margin-left:0;
    margin-right:0;
  }
  
  .speaker-pager{ display:none; }
  .inner{ padding-left:16px; padding-right:16px; }
  
  /* Hero選單在極小螢幕保持與浮動選單一致的間距 */
  .event-bar {
    left: 20px; /* 與浮動選單保持一致 */
    right: 20px; /* 與浮動選單保持一致 */
  }
  
  /* Footer */
  .sponsor-footer { padding: 40px 0 50px; } /* 調整上下間距 */
  .sponsor-footer .inner{ grid-template-columns:1fr; gap:40px; padding:0 20px; } /* 增加gap並統一padding */
  .sponsor-block{ flex-direction:column; gap:20px; text-align:center; } /* 增加內部間距 */
  .sponsor-logo{ height:40px; }
}

@media (max-width:560px){
  .topic-row{ align-items: baseline; }

  .topic-row .pill{
    display:inline-block;
    align-self: baseline;
    vertical-align: baseline;
    min-width:58px;
    height:40px;
    line-height:40px;
    padding:0 12px;
    font-size: inherit;
    text-align:center;
  }

  .topic-row > div:last-child{
    min-height:40px;
    font-size:.95em;
    line-height:1.6;
    align-items:baseline;
    align-self: baseline;
    /* 對於地點特殊處理 - 保持 grid 布局而不是 flex */
    display: block;
    word-break: break-word;
    overflow-wrap: break-word;
  }
  
  /* 地點區域特殊處理 - 允許自然換行 */
  .topic-row.place > div:last-child {
    display: block;
    word-break: break-word; /* 允許適當的斷詞 */
    overflow-wrap: break-word; /* 允許長字換行 */
    white-space: normal; /* 允許正常換行 */
    overflow: visible; /* 移除隱藏溢出 */
    text-overflow: unset; /* 移除省略號 */
  }

  .bar-item{ padding:6px 14px; }
  .bar-date{ font-size:18px; }
  .bar-arrow{ font-size:18px; }
}

@media (max-width:480px){
  :root{ --sp-photo-mobile:100px; }
  
  .speaker .photo{
    width:100px;
    height:100px;
  }
  
  .bio-card{
    background: rgba(255,255,255,0.06);
    border: 1px solid rgba(255,255,255,0.12);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    color: #cfd6e6;
    padding:14px; 
    border-radius:12px; 
    max-width: none; 
    margin-left:0; 
    margin-right:0; 
    width:100%;
    box-sizing:border-box; /* 防止padding造成溢出 */
  }
  .bio-card .bio-desc{ color: #cfd6e6; text-align:left; }

  .speaker-page{ padding:0; } /* 移除padding以符合統一間距 */
  .pager-dot{ width:12px; height:8px; }
  .pager-dot[aria-current="true"]{ width:26px; }
  
  /* 確保speaker container在小螢幕上有適當邊距 */
  .speaker{
    margin-left:0;
    margin-right:0;
    padding-left:0;
    padding-right:0;
  }
}

/* 桌機：確保膠囊內文字與外部文字首行對齊 */
@media (min-width:992px){
  .event-info .topic-row{ 
    align-items: baseline; 
    column-gap: 20px;
    margin-bottom: 24px; /* 增加行間距避免互相影響 */
  }
  .event-info .topic-row .pill{ 
    display:inline-block; 
    height:42px; 
    padding:0 14px; 
    line-height:42px; /* 讓文字垂直居中 */
    text-align:center;
    /* 讓膠囊參與基線對齊 */
    vertical-align: baseline;
  }
  .event-info .topic-row > div:last-child{ 
    line-height: 1.4;
    margin: 0;
    padding-top: 0;
    /* 讓第一行文字與膠囊文字基線對齊 */
    display: inline-block;
    vertical-align: baseline;
  }
}

/* 語言切換器樣式 */
.language-toggle {
  display: flex;
  justify-content: center;
  margin: 32px 0 32px 0;
}

.language-toggle-track {
  position: relative;
  display: flex;
  background: rgba(255, 255, 255, 0.1);
  border-radius: 30px;
  padding: 4px;
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  overflow: hidden;
}

.language-toggle-slider {
  position: absolute;
  top: 4px;
  left: 4px;
  width: calc(50% - 4px);
  height: calc(100% - 8px);
  background: #c93874;
  border-radius: 26px;
  transition: all 0.3s cubic-bezier(0.4, 0.0, 0.2, 1);
  z-index: 1;
}

.language-option {
  position: relative;
  padding: 12px 20px;
  border: none;
  background: transparent;
  color: rgba(255, 255, 255, 0.7);
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  transition: color 0.3s ease;
  z-index: 2;
  min-width: 90px;
  text-align: center;
}

.language-option.active {
  color: #fff;
}

.language-toggle-track[data-active="en"] .language-toggle-slider {
  transform: translateX(100%);
}

@media (max-width: 768px) {
  .language-toggle {
    margin: 24px 0 20px 0;
  }
  
  .language-option {
    padding: 10px 16px;
    font-size: 13px;
    min-width: 80px;
  }
}

/* 769px 以上通通與 logo 對齊 */
@media (min-width: 769px) {
  .event-bar {
    left: calc( 70/1920*100%) !important; /* 與 logo 左邊距對齊，強制覆蓋 */
    right: calc( 70/1920*100%) !important; /* 右側使用相同距離，強制覆蓋 */
  }
  
  /* 右上角浮動元素與 logo 對齊 */
  .floating-tab-bar {
    right: calc( 70/1920*100%) !important; /* 與 logo 邊距對齊 */
  }
  
  .floating-share {
    right: calc( 70/1920*100%) !important; /* 分享功能與 logo 邊距對齊 */
  }
  
  .floating-circular-btn {
    right: calc( 70/1920*100%) !important; /* 下載按鈕與回到頂部與 logo 邊距對齊 */
  }
  
  /* 講師區域與 logo 對齊 - 修正方式 */
  .speakers-carousel {
    margin-left: calc( 70/1920*100%) !important;
    margin-right: calc( 70/1920*100%) !important;
    max-width: calc(100% - 2 * 70/1920*100%) !important; /* 調整最大寬度 */
  }
  
  /* 活動內容區域與 logo 對齊 */
  .event-info .inner {
    padding-left: calc( 70/1920*100%) !important;
    padding-right: calc( 70/1920*100%) !important;
  }
  
  /* 議程表格與 logo 對齊 */
  .schedule-table {
    margin-left: calc( 70/1920*100%) !important;
    margin-right: calc( 70/1920*100%) !important;
    width: calc(100% - 2 * 70/1920*100%) !important; /* 扣除左右邊距 */
  }
}

@media (min-width: 769px) {
  .language-toggle {
    margin: 32px 0 32px 0;
  }
  
  .language-option {
    padding: 12px 20px;
    font-size: 14px;
    min-width: 90px;
  }
  
  .language-toggle-track {
    border-radius: 30px;
  }
  
  .language-toggle-slider {
    border-radius: 26px;
  }
}

/* 小標粉色樣式 */
.event-info h2 {
  color: var(--pink);
}

/* 中間寬度微調 */
@media (min-width: 769px) and (max-width: 1199px) {
  .event-info { padding-top: clamp(14px, 3.2vw, 40px); }
  .event-info h2:not(:first-of-type) { margin-top: clamp(20px, 3vw, 40px); }
}
</style>

<style>
/* ===== HERO右上角懸浮橫向表單（圓角磨砂玻璃質感） ===== */
.floating-tab-bar {
  position: fixed;
  top: 32px;
  right: 32px;
  z-index: 9999;
  display: block; /* 固定為 block，不再切換 */
  visibility: hidden; /* 初始隱藏 */
  background: var(--glass-bg, rgba(255,255,255,.08));
  border: 1px solid var(--glass-bd, rgba(255,255,255,.18));
  box-shadow: 0 8px 32px rgba(0,0,0,.22);
  backdrop-filter: blur(18px);
  -webkit-backdrop-filter: blur(18px);
  border-radius: 11px; /* 根據 320x320 時 R角60 的比例調整 */
  padding: 18px 32px; /* 調整上下padding，讓高度與分享按鈕相同(60px) */
  transform: translateY(-10px);
  opacity: 0;
  transition: opacity .28s ease, visibility 0s linear .28s; /* 收起時延後切 visibility */
  will-change: transform, opacity;
  max-width: 420px; /* 增加最大寬度讓選單可以更長 */
  width: auto;
  isolation: isolate; /* 避免祖先的合成影響取樣 */
}

.floating-tab-bar.is-visible {
  visibility: visible;
  opacity: 1;
  transition: opacity .28s ease; /* 展開時立即可見 + 淡入 */
}

.floating-tab-bar ul {
  display: flex;
  gap: 28px; /* 增加項目間距讓選單變長 */
  margin: 0;
  padding: 0;
  list-style: none;
  justify-content: space-between; /* 均勻分布 */
  width: 100%;
}
.floating-tab-bar li {
  font-size: 0.95rem; /* 稍微縮小字體 */
  font-weight: 400; /* 減少字體粗細 */
  color: #fff;
  letter-spacing: 0; /* 移除字母間距 */
  flex: 1; /* 讓每個項目等寬 */
  text-align: center; /* 置中對齊 */
  line-height: 1.2; /* 緊縮行高 */
}
.floating-tab-bar a {
  color: #fff;
  text-decoration: none;
  padding: 2px 0; /* 減少垂直間距 */
  border-radius: 6px;
  transition: background .3s ease, color .3s ease, transform .3s ease; /* 統一並加長 transition 時間 */
  -webkit-tap-highlight-color: transparent;
  user-select: none;
  display: block;
  white-space: nowrap; /* 防止換行 */
  will-change: transform; /* 優化動畫性能 */
}
.floating-tab-bar a:hover {
  background: transparent; /* 移除底框 */
  color: #fff;
  transform: translateY(-2px); /* 文字升高效果 */
}
.floating-tab-bar a:active,
.floating-tab-bar a:focus{
  background: rgba(255,255,255,0.2); /* 更明顯的選取效果 */
  color: #fff;
  outline: none;
}

@media (max-width: 768px) {
  .floating-tab-bar {
    top: 12px;
    left: 20px; /* 根據測量數據精確調整 */
    right: 20px; /* 根據測量數據精確調整 */
    transform: translateY(-10px);
    width: auto;
    max-width: none;
    min-width: auto;
    background: var(--glass-bg, rgba(255,255,255,.08));
    border: 1px solid var(--glass-bd, rgba(255,255,255,.18));
    box-shadow: 0 8px 32px rgba(0,0,0,.22);
    backdrop-filter: blur(18px);
    -webkit-backdrop-filter: blur(18px);
    padding: 15px 16px; /* 調整上下padding，讓高度與分享按鈕相同(50px) */
    border-radius: 12px;
    box-sizing: border-box;
  }
  
  /* 手機版分享功能間距調整 */
  .floating-share {
    top: calc(12px + 50px + var(--floating-gap)) !important; /* 手機版：top + height + gap */
    left: 20px !important;
    right: 20px !important;
  }
}

/* 極小螢幕或浮動選單變成2x2時的調整 */
@media (max-width: 480px) {
  .floating-share {
    top: calc(12px + 50px + var(--floating-gap)) !important; /* 480px版2x2：與768px相同高度 + gap */
  }
  .floating-tab-bar ul {
    gap: 12px; /* 恢復合理間距 */
    display:flex;
    width:100%;
    align-items:center;
    justify-content: space-between; /* 恢復原始分布 */
    margin: 0;
    padding: 0;
  }
  .floating-tab-bar li {
    flex: 1 1 0; /* 恢復等寬分布 */
    min-width: 0;
    text-align: center;
    font-size: 0.9rem; /* 恢復合理字體大小 */
    font-weight: 400;
    letter-spacing: 0;
    line-height: 1.2;
  }
  .floating-tab-bar a {
    display:block;
    padding:4px 6px; /* 恢復合理內距 */
    color: #fff;
    text-decoration: none;
    border-radius: 6px; /* 保留圓角但不要 overflow hidden */
    transition: background .3s ease, color .3s ease, transform .3s ease; /* 與桌面版保持一致 */
    -webkit-tap-highlight-color: transparent;
    user-select: none;
    white-space: nowrap;
    will-change: transform; /* 優化動畫性能 */
    /* 移除會切割文字的 overflow: hidden */
  }
  
  .floating-tab-bar a:hover {
    background: transparent; /* 移除底框 */
    color: #fff;
    transform: translateY(-2px); /* 文字升高效果 */
  }
}

/* ===== 分享功能樣式 ===== */
.floating-share {
  position: fixed;
  top: 102px; /* 採用與分享按鈕到社群圖示相同的間距(10px) */
  right: 32px; /* 與浮動選單容器右側對齊 */
  z-index: 10000;
  display: block; /* 固定為 block，不再切換 */
  visibility: hidden; /* 初始隱藏 */
  background: transparent;
  border: none;
  box-shadow: none;
  backdrop-filter: none;
  -webkit-backdrop-filter: none;
  border-radius: 0;
  padding: 0;
  opacity: 0; /* 初始透明，由滾動邏輯控制 */
  transition: opacity .28s ease, visibility 0s linear .28s; /* 收起時延後切 visibility */
  /* 移除 transform 相關屬性 */
  /* 移除固定寬度，讓容器自適應 */
}

.floating-share.is-visible {
  visibility: visible;
  opacity: 1;
  transition: opacity .28s ease; /* 展開時立即可見 + 淡入 */
}

.share-container {
  position: relative;
  display: flex;
  justify-content: flex-end; /* 確保分享按鈕右對齊 */
  width: auto; /* 讓容器寬度自適應按鈕 */
}

.share-trigger {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 60px;
  height: 60px;
  background: #ffffff; /* 改為白色背景 */
  border: 1px solid rgba(0,0,0,.1); /* 改為淺灰邊框 */
  border-radius: 11px;
  cursor: pointer;
  transition: all 0.3s ease;
  box-shadow: 0 8px 32px rgba(0,0,0,.22);
  overflow: hidden;
  position: relative;
  /* 移除毛玻璃相關屬性 */
}

/* 移除毛玻璃偽元素 */
/*
.share-trigger::before {
  content: "";
  position: absolute;
  inset: 0;
  background: var(--glass-bg, rgba(255,255,255,.08));
  backdrop-filter: blur(18px);
  -webkit-backdrop-filter: blur(18px);
  border-radius: inherit;
  z-index: 0;
  will-change: backdrop-filter;
}
*/

/* SVG 圖示樣式 */
.share-trigger .icon {
  width: 32px;
  height: 32px;
  fill: none;
  stroke: #333333;
  stroke-width: 2;
  stroke-linecap: round;
  stroke-linejoin: round;
}

.share-trigger:hover {
  background: #f5f5f5; /* hover 時稍微變灰 */
  border-color: rgba(0,0,0,0.2);
  box-shadow: 0 12px 40px rgba(0,0,0,.3);
}

/* 移除毛玻璃 hover 效果 */
/*
.share-trigger:hover::before {
  background: rgba(255,255,255,0.15);
}
*/

/* 開啟狀態樣式 */
.floating-share.is-open .share-trigger {
  background: #f0f0f0; /* 開啟時的背景色 */
  border-color: rgba(0,0,0,0.2);
  box-shadow: 0 12px 40px rgba(0,0,0,.3);
}

/* 移除毛玻璃開啟效果 */
/*
.floating-share.is-open .share-trigger::before {
  background: rgba(255,255,255,0.15);
}
*/

/* 展開的選單與項目 */
.floating-share.is-open .share-menu{
  opacity:1; visibility:visible; pointer-events:auto; transform:translateY(0);
}
.floating-share.is-open .share-item{
  opacity:1; pointer-events:auto; transform:translateY(0) scale(1);
}

/* 觸控裝置不要殘留 hover 效果 */
@media (hover:none) {
  .share-trigger:hover { 
    border-color: var(--glass-bd, rgba(255,255,255,.18)); 
    box-shadow: 0 8px 32px rgba(0,0,0,.22); 
  }
  .share-trigger:hover::before {
    background: var(--glass-bg, rgba(255,255,255,.08));
  }
}

.share-trigger img {
  width: 48px;
  height: 48px;
  transition: transform .2s ease;
}

.share-menu {
  position: absolute;
  top: 70px; /* 增加間距，讓分享按鈕和社群圖示間距更大 */
  right: 0; /* 右側對齊分享按鈕 */
  transform: translateY(-10px);
  display: flex;
  flex-direction: column;
  gap: 10px; /* 調整為與分享按鈕間距一致 */
  opacity: 0;
  visibility: hidden;
  transition: opacity .25s ease, visibility .25s ease, transform .25s ease;
  background: transparent;
  border: none;
  border-radius: 0;
  padding: 1px 0; /* 調整為1px內距 */
  backdrop-filter: none;
  -webkit-backdrop-filter: none;
}

/* Facebook 圖示移除額外間距 */
.share-item:nth-child(1) { /* Facebook */
  transition-delay: 0.1s;
}

.share-item:nth-child(2) { /* Line */
  transition-delay: 0.2s;
}

.share-item:nth-child(3) { /* X (Twitter) */
  transition-delay: 0.3s;
}

.share-item:nth-child(4) { /* LinkedIn */
  transition-delay: 0.4s;
}

.share-container:hover .share-menu {
  opacity: 1;
  visibility: visible;
  transform: translateY(0); /* 移除 translateX */
}

.share-container:hover .share-menu {
  opacity: 1;
  visibility: visible;
  transform: translateY(0); /* 移除 translateX */
}

.share-item {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 60px;
  height: 60px;
  background: transparent;
  border: none;
  border-radius: 0;
  text-decoration: none;
  opacity: 0;
  transform: translateY(10px) scale(0.8);
  transition: all .3s ease, opacity .4s ease, transform .4s ease;
}

/* 為每個社群圖示設定不同的延遲時間，實現逐一浮現效果 */
/* Facebook 的樣式已在上方定義 */

.share-item:nth-child(2) { /* Line */
  transition-delay: 0.2s;
}

.share-item:nth-child(3) { /* X (Twitter) */
  transition-delay: 0.3s;
}

.share-item:nth-child(4) { /* LinkedIn */
  transition-delay: 0.4s;
}

.share-container:hover .share-item {
  opacity: 1;
  transform: translateY(0) scale(1);
}

.share-item:hover {
  transform: translateY(-2px) scale(1.05);
  opacity: 0.8;
}

.share-item img {
  width: 60px;
  height: 60px;
  transition: transform .2s ease;
}

/* 手機版分享功能調整 */
@media (max-width: 768px) {
  .floating-share {
    top: 72px; /* 採用與桌面版相同的10px間距邏輯 */
    right: 20px; /* 靠右對齊 */
    left: auto; /* 移除左側定位 */
  }
  
  .share-container {
    display: flex;
    justify-content: flex-end; /* 確保分享按鈕右對齊 */
    width: auto; /* 讓容器寬度自適應按鈕 */
  }
  
  .share-trigger {
    width: 50px;
    height: 50px;
    border-radius: 9px;
  }
  
  .share-trigger .icon {
    width: 26px;
    height: 26px;
  }
  
  .share-menu {
    position: absolute;
    top: 60px; /* 調整間距 */
    right: 0; /* 右側對齊分享按鈕 */
    transform: translateY(-10px);
    display: flex;
    flex-direction: column;
    gap: 8px; /* 手機版稍微縮小間距 */
    opacity: 0;
    visibility: hidden;
    pointer-events: none; /* 隱藏時不可點擊 */
    transition: opacity .25s ease, visibility .25s ease, transform .25s ease, pointer-events .25s ease;
    background: transparent;
    border: none;
    border-radius: 0;
    padding: 1px 0;
    backdrop-filter: none;
    -webkit-backdrop-filter: none;
  }
  
  .share-container:hover .share-menu {
    opacity: 1;
    visibility: visible;
    pointer-events: auto; /* 顯示時可點擊 */
    transform: translateY(0);
  }
  
  .share-item {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 50px;
    height: 50px;
    background: transparent;
    border: none;
    border-radius: 0;
    text-decoration: none;
    opacity: 0;
    pointer-events: none; /* 隱藏時不可點擊 */
    transform: translateY(10px) scale(0.8);
    transition: all .3s ease, opacity .4s ease, transform .4s ease, pointer-events .4s ease;
  }
  
  .share-container:hover .share-item {
    opacity: 1;
    pointer-events: auto; /* 顯示時可點擊 */
    transform: translateY(0) scale(1);
  }
  
  .share-item:hover {
    transform: translateY(-2px) scale(1.05);
    opacity: 0.8;
  }
  
  .share-item img {
    width: 50px;
    height: 50px;
  }
}

/* 小尺寸手機橫向顯示調整 */
@media (max-width: 480px) and (orientation: landscape) {
  .floating-share {
    top: calc(12px + 42px + var(--floating-gap)) !important; /* 橫向時較矮的高度 + gap */
    right: 15px; /* 橫向時稍微內移 */
  }
  
  .share-menu {
    flex-direction: row; /* 橫向時改為水平排列 */
    gap: 4px; /* 橫向時減少間距 */
  }
  
  .share-item {
    width: 50px; /* 橫向時稍微縮小 */
    height: 50px;
  }
  
  .share-item img {
    width: 40px;
    height: 40px;
  }
}

@media (max-width: 480px) {
  .floating-tab-bar {
    /* 基於 768px 測量結果調整 */
    left: 20px; /* 先嘗試相同數值 */
    right: 20px; /* 先嘗試相同數值 */
    background: var(--glass-bg, rgba(255,255,255,.08));
    border: 1px solid var(--glass-bd, rgba(255,255,255,.18));
    box-shadow: 0 8px 32px rgba(0,0,0,.22);
    backdrop-filter: blur(18px);
    -webkit-backdrop-filter: blur(18px);
    padding: 12px 16px;
    border-radius: 12px;
    box-sizing: border-box;
  }
}
</style>

<style>
/* ===== 時間切換器樣式 ===== */
.time-toggle {
  display: flex;
  justify-content: center;
  margin: 20px 0 32px 0;
}

.time-toggle-track {
  position: relative;
  display: flex;
  background: rgba(255, 255, 255, 0.1);
  border-radius: 25px;
  padding: 3px;
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  overflow: hidden;
}

.time-toggle-slider {
  position: absolute;
  top: 3px;
  left: 3px;
  width: calc(50% - 3px);
  height: calc(100% - 6px);
  background: #c93874;
  border-radius: 22px;
  transition: all 0.3s cubic-bezier(0.4, 0.0, 0.2, 1);
  z-index: 1;
}

.time-option {
  position: relative;
  padding: 10px 18px;
  border: none;
  background: transparent;
  color: rgba(255, 255, 255, 0.7);
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  transition: color 0.3s ease;
  z-index: 2;
  min-width: 100px;
  text-align: center;
}

.time-option.active {
  color: #fff;
}

.time-toggle-track[data-active="taiwan"] .time-toggle-slider {
  transform: translateX(100%);
}

/* ===== 議程表格樣式 ===== */
.schedule-table {
  width: 100%;
  max-width: none;
  margin: 0;
  border: 2px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  overflow: hidden;
  background: rgba(255, 255, 255, 0.04);
  backdrop-filter: blur(10px);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
  box-sizing: border-box;
}

.schedule-header {
  display: grid;
  grid-template-columns: 180px 1fr;
  background: rgba(255, 255, 255, 0.1);
  border-bottom: 2px solid rgba(255, 255, 255, 0.2);
}

.schedule-header > div {
  padding: 16px 12px;
  font-weight: 600;
  font-size: 16px;
  color: #fff;
  text-align: center;
  border-right: 1px solid rgba(255, 255, 255, 0.2);
}

.schedule-header > div:last-child {
  border-right: none;
}

.schedule-row {
  display: grid;
  grid-template-columns: 180px 1fr;
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.schedule-row:last-child {
  border-bottom: none;
}

.schedule-row:hover {
  background: rgba(255, 255, 255, 0.06);
}

.time-cell {
  padding: 16px 12px;
  text-align: center;
  font-family: "Akrobat", "Noto Sans TC", sans-serif;
  font-weight: 600;
  font-size: 22px;
  color: #fff;
  border-right: 1px solid rgba(255, 255, 255, 0.1);
  background: rgba(255, 255, 255, 0.03);
  line-height: 1.4;
  display: flex;
  align-items: center;
  justify-content: center;
}

.content-cell {
  padding: 16px 20px;
  line-height: 1.6;
  color: #cfd6e6;
  font-weight: 500;
}

.content-cell ul {
  margin: 8px 0 0 0;
  padding-left: 20px;
  list-style: disc;
}

.content-cell ol {
  margin: 8px 0 0 0;
  padding-left: 20px;
  list-style: disc;
}

.content-cell li {
  margin-bottom: 4px;
  color: #cfd6e6;
  font-weight: 400;
}

/* 職稱樣式 */
.title {
  font-size: 90%;
  color: var(--pink);
}

/* 重要活動膠囊樣式 */
.event-highlight {
  display: inline-block;
  padding: 8px 16px;
  border: 2px dashed var(--pink);
  border-radius: 20px;
  color: #fff;
  font-weight: 500;
  margin-bottom: 8px;
  background: rgba(255, 94, 153, 0.1);
}

/* 小膠囊標籤樣式 */
.role-tag {
  display: inline-block;
  padding: 4px 10px;
  border-radius: 12px;
  background: rgba(255, 255, 255, 0.15);
  color: #fff;
  font-size: 12px;
  font-weight: 500;
  margin-right: 8px;
  vertical-align: middle;
}

/* 響應式設計 */
@media (max-width: 768px) {
  .time-toggle {
    margin: 16px 0 24px 0;
  }
  
  .time-option {
    padding: 8px 14px;
    font-size: 13px;
    min-width: 85px;
  }
  
  .schedule-table {
    border-radius: 8px;
    margin: 0; /* 移除偏移，讓它對齊左右間距 */
    border-width: 1px; /* 減少邊框寬度避免右側偏移 */
  }
  
  .schedule-header {
    display: none;
  }
  
  .schedule-row {
    grid-template-columns: 1fr;
    background: rgba(255, 255, 255, 0.02);
  }
  
  .time-cell {
    border-right: none;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    background: rgba(255, 255, 255, 0.08);
    padding: 12px;
    font-size: 20px;
    font-weight: 700;
    color: #fff;
  }
  
  .content-cell {
    padding: 16px;
  }
  
  .content-cell ul, .content-cell ol {
    padding-left: 16px;
  }
}

@media (max-width: 480px) {
  .schedule-table {
    margin: 0;
    border-radius: 6px;
  }
  
  .time-cell {
    padding: 10px;
    font-size: 18px;
  }
  
  .content-cell {
    padding: 12px;
    font-size: 0.9em;
  }
}

/* 由 event-info 內部控制第一個 h2 的 margin */
.event-info .inner > h2:first-of-type{
  margin-top: 0;
}

/* ===== 圓形漂浮按鈕 ===== */
.floating-circular-btn {
  position: fixed;
  bottom: 30px;
  right: 32px;
  z-index: 9999;
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  gap: var(--floating-gap);
  opacity: 1;
  transform: translateY(0);
  transition: opacity 0.3s ease, transform 0.3s ease;
}

.floating-circular-btn.show {
  opacity: 1;
  transform: translateY(0);
}

.button {
  position: relative;
  width: 105px;
  height: 105px;
  border: none;
  outline: none;
  background: transparent;
  cursor: pointer;
  margin-bottom: 10px;
  transform: translateX(15px);
  display: block;
}

.button a {
  display: block;
  width: 100%;
  height: 100%;
  text-decoration: none;
  position: relative;
}

.button__circle {
  position: absolute;
  top: 0;
  left: 0;
  width: 105px;
  height: 105px;
  border-radius: 50%;
  background: linear-gradient(135deg, #ff6b35 0%, #f7931e 100%);
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.3s ease;
  animation: rotate 20s linear infinite;
  box-shadow: 0 4px 20px rgba(255, 107, 53, 0.3);
}

.button__finger {
  width: 45%;
  height: 45%;
  /* 移除濾鏡效果，直接使用 SVG 的原始色彩 */
  /* 反向旋轉抵消父元素的旋轉效果 */
  animation: counterRotate 20s linear infinite;
}

.button:hover .button__circle {
  transform: scale(1.1);
  box-shadow: 0 6px 30px rgba(255, 107, 53, 0.5);
}

.button__text {
  position: absolute;
  top: 0;
  left: 0;
  width: 105px;
  height: 105px;
  border-radius: 50%;
  margin: 0;
  font-size: 14px;
  font-weight: bold;
  color: white;
  overflow: visible;
  animation: rotate 20s linear infinite;
  z-index: 1;
}

.button__text span {
  position: absolute;
  font-size: 16px;
  color: white;
  font-weight: 700;
  line-height: 1;
  transform: rotate(calc(30deg * var(--index)));
  inset: 8px;
}

/* 使用 DIGITIMES 的 CSS 變數定位方式 */
.button__text span:nth-child(1) { --index: 0; }
.button__text span:nth-child(2) { --index: 1; }
.button__text span:nth-child(3) { --index: 2; }
.button__text span:nth-child(4) { --index: 3; }
.button__text span:nth-child(5) { --index: 4; }
.button__text span:nth-child(6) { --index: 5; }
.button__text span:nth-child(7) { --index: 6; }
.button__text span:nth-child(8) { --index: 7; }
.button__text span:nth-child(9) { --index: 8; }
.button__text span:nth-child(10) { --index: 9; }
.button__text span:nth-child(11) { --index: 10; }
.button__text span:nth-child(12) { --index: 11; }

@keyframes rotate {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

@keyframes counterRotate {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(-360deg);
  }
}

@keyframes arrowLoop {
  0% {
    transform: rotate(-90deg) translateX(0px);
    opacity: 1;
  }
  30% {
    transform: rotate(-90deg) translateX(0px);
    opacity: 1;
  }
  50% {
    transform: rotate(-90deg) translateX(40px);
    opacity: 0;
  }
  51% {
    transform: rotate(-90deg) translateX(-40px);
    opacity: 0;
  }
  70% {
    transform: rotate(-90deg) translateX(0px);
    opacity: 1;
  }
  100% {
    transform: rotate(-90deg) translateX(0px);
    opacity: 1;
  }
}

@keyframes downloadLoop {
  0% {
    transform: translate(-50%, -50%) rotate(90deg);
    opacity: 1;
  }
  30% {
    transform: translate(-50%, -50%) rotate(90deg);
    opacity: 1;
  }
  40% {
    transform: translate(-50%, -50%) translateY(8px) rotate(90deg);
    opacity: 0;
  }
  41% {
    transform: translate(-50%, -50%) translateY(-20px) rotate(90deg);
    opacity: 0;
  }
  60% {
    transform: translate(-50%, -50%) rotate(90deg);
    opacity: 1;
  }
  100% {
    transform: translate(-50%, -50%) rotate(90deg);
    opacity: 1;
  }
}

/* 回到頂部按鈕 */
.scroll-top-btn {
  display: block;
  width: 60px;
  height: 60px;
  background: var(--glass-bg, rgba(255,255,255,.08));
  border: 1px solid var(--glass-bd, rgba(255,255,255,.18));
  border-radius: 11px;
  display: flex;
  align-items: center;
  justify-content: center;
  text-decoration: none;
  transition: background .3s, border-color .3s, transform .3s, box-shadow .3s;
  backdrop-filter: blur(18px);
  -webkit-backdrop-filter: blur(18px);
  box-shadow: 0 8px 32px rgba(0,0,0,.22);
  overflow: hidden;
  position: relative;
  box-sizing: border-box; /* 避免 border 影響幾何中心 */
}

/* 下載按鈕 */
.download-btn {
  display: block;
  width: 60px;
  height: 60px;
  background: var(--glass-bg, rgba(255,255,255,.08));
  border: 1px solid var(--glass-bd, rgba(255,255,255,.18));
  border-radius: 11px;
  display: flex;
  align-items: center;
  justify-content: center;
  text-decoration: none;
  transition: background .3s, border-color .3s, transform .3s, box-shadow .3s;
  backdrop-filter: blur(18px);
  -webkit-backdrop-filter: blur(18px);
  box-shadow: 0 8px 32px rgba(0,0,0,.22);
  overflow: hidden;
  position: relative;
  box-sizing: border-box; /* 避免 border 影響幾何中心 */
}

/* 統一SVG圖示樣式 */
.download-btn .icon,
.scroll-top-btn .icon {
  width: 32px;
  height: 32px;
  flex: 0 0 auto;
  color: #ffffff;
  opacity: 1;
}

.scroll-top-btn:hover {
  background: rgba(255,255,255,0.15);
  border-color: rgba(255,255,255,0.3);
  transform: translateY(-2px);
  box-shadow: 0 12px 40px rgba(0,0,0,.3);
}

.download-btn:hover {
  background: rgba(255,255,255,0.15);
  border-color: rgba(255,255,255,0.3);
  transform: translateY(-2px);
  box-shadow: 0 12px 40px rgba(0,0,0,.3);
}

/* 按壓回饋 - 使用 filter 而非 opacity，避免毛玻璃閃爍 */
.download-btn.pressed, .scroll-top-btn.pressed{
  filter: brightness(0.8);
  transform: scale(0.98);
  transition: none;
}

/* 分享按鈕按壓回饋 - 白色背景版本 */
.share-trigger.pressed {
  background: #e0e0e0; /* 按壓時更深的灰色 */
  transform: scale(0.98);
  transition: none;
}

/* 移除不再需要的偽元素動畫 */
.download-btn:hover img {
  transform: scale(1.1);
}

/* 只在有真正滑鼠的裝置啟用 hover 動畫 */
@media (hover: hover) and (pointer: fine) {
  .scroll-top-btn:hover { 
    background: rgba(255,255,255,0.15);
    border-color: rgba(255,255,255,0.3);
    transform: translateY(-2px);
    box-shadow: 0 12px 40px rgba(0,0,0,.3);
  }
  .download-btn:hover { 
    background: rgba(255,255,255,0.15);
    border-color: rgba(255,255,255,0.3);
    transform: translateY(-2px);
    box-shadow: 0 12px 40px rgba(0,0,0,.3);
  }
  /* SVG圖示不需要偽元素動畫 */
}

/* 觸控裝置：完全禁用 hover 動畫，避免點了就卡住 */
@media (hover: none) and (pointer: coarse) {
  .scroll-top-btn:hover,
  .download-btn:hover {
    background: var(--glass-bg, rgba(255,255,255,.08));
    border-color: var(--glass-bd, rgba(255,255,255,.18));
    transform: none !important; /* 移除向上移動效果 */
    box-shadow: 0 8px 32px rgba(0,0,0,.22);
  }
  /* SVG圖示不需要偽元素動畫 */
}

@media (max-width: 768px) {
  .floating-circular-btn {
    bottom: 20px;
    right: 20px;
  }
  
  .button {
    width: 88px;
    height: 88px;
    transform: translateX(12px);
  }
  
  .button__circle {
    width: 88px;
    height: 88px;
  }
  
  .button__finger {
    width: 40px; /* 固定px取代45%，避免小數尺寸 */
    height: 40px;
    animation: counterRotate 20s linear infinite; /* 反向旋轉抵消父元素旋轉 */
    image-rendering: auto; /* 移除crisp-edges，對SVG反而容易怪 */
  }
  
  .button__text {
    width: 88px;
    height: 88px;
  }
  
  .button__text span {
    font-size: 14px;
    inset: 6px;
  }
  
  .scroll-top-btn,
  .download-btn {
    width: 50px;
    height: 50px;
    border-radius: 9px;
    margin-left: 12px; /* 改用 margin 而不是 transform 避免衝突 */
  }
  
  /* 小螢幕縮小圖示，只改尺寸 */
  .download-btn .icon,
  .scroll-top-btn .icon {
    width: 28px;
    height: 28px;
  }
}
</style>
</head>
<body>

<!-- ===== 圓形漂浮按鈕 ===== -->
<div class="floating-circular-btn" id="floatingBtn">
  <button class="button">
    <a href="#" onclick="window.open('https://example.com/register', '_blank'); return false;">
      <p class="button__text">
        <span>立</span>
        <span>即</span>
        <span>報</span>
        <span>名</span>
        <span>　</span>
        <span>　</span>
        <span>立</span>
        <span>即</span>
        <span>報</span>
        <span>名</span>
        <span>　</span>
        <span>　</span>
      </p>

      <div class="button__circle">
        <img src="assets/img/finger.png" alt="" class="button__finger">
      </div>
    </a>
  </button>
  
  <!-- 下載按鈕 -->
  <a href="#" class="download-btn" onclick="return false;" title="下載檔案" aria-label="下載">
    <svg viewBox="0 0 24 24" class="icon">
      <path d="M12 3v11m0 0l4-4m-4 4l-4-4M5 18h14v3H5z" fill="none" stroke="#ffffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
  </a>
  
  <!-- 回到頂部按鈕 -->
  <a href="#" class="scroll-top-btn" onclick="window.scrollTo({top: 0, behavior: 'smooth'}); return false;" title="回到頂部" aria-label="回到頂部">
    <svg viewBox="0 0 24 24" class="icon">
      <path d="M12 5l-6 6m6-6l6 6M12 5v14" fill="none" stroke="#ffffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
  </a>
</div>

<!-- ===== HERO（內含貼底的日期選單） ===== -->
<section class="hero-wrapper" aria-label="Hero">
  <img class="hero-img hero-logo"     src="assets/img/hero-logo.svg"     alt="">
  <img class="hero-img hero-title"    src="assets/img/hero-title.svg"    alt="">
  <img class="hero-img hero-subtitle" src="assets/img/hero-subtitle.svg" alt="">

  <nav class="event-bar" aria-label="論壇場次日期">
    <div class="bar" id="eventBar">
      <button type="button" class="bar-item" data-id="s1" aria-current="true">
        <span class="bar-date">第一場</span>
        <span class="bar-arrow" aria-hidden="true">⮕</span>
        <span class="bar-date">9 月份</span>
      </button>
      <button type="button" class="bar-item" data-id="s2">
        <span class="bar-date">第二場</span>
        <span class="bar-arrow" aria-hidden="true">⮕</span>
        <span class="bar-date">10 月份</span>
      </button>
      <button type="button" class="bar-item" data-id="s3">
        <span class="bar-date">第三場</span>
        <span class="bar-arrow" aria-hidden="true">⮕</span>
        <span class="bar-date">11 月份</span>
      </button>
      <button type="button" class="bar-item" data-id="s4">
        <span class="bar-date">第四場</span>
        <span class="bar-arrow" aria-hidden="true">⮕</span>
        <span class="bar-date">12 月份</span>
      </button>
    </div>
  </nav>
</section>

<section class="event-info" id="s1-info">
  <div class="inner">
    <div class="topic-wrap">
      <div class="topic-badge">
        未來半導體人才趨勢論壇：產學對話
        <div class="topic-en">Empowering the Future of Semiconductor - Bridging Industry and Academia</div>
      </div>

      <!-- 語言切換器 -->
      <div class="language-toggle">
        <div class="language-toggle-track">
          <div class="language-toggle-slider"></div>
          <button class="language-option active" data-lang="zh">繁體中文</button>
          <button class="language-option" data-lang="en">English</button>
        </div>
      </div>

      <div class="topic-rows">
        <div class="topic-rows-inner">
          <div class="topic-row">
            <div class="pill">
              <span class="lang-zh">時間</span>
              <span class="lang-en" style="display: none;">Time</span>
            </div>
            <div>
              <span class="lang-zh">加州時間｜2025 年 9 月 25 日（四）下午 5:00 至 7:00<br>臺灣時間｜2025 年 9 月 26 日（五）上午 8:00 至 10:00</span>
              <span class="lang-en" style="display: none;">California Time | September 25th, 2025, 5:00 – 7:00pm<br>Taiwan Time | September 26th, 2025, 8:00 – 10:00am</span>
            </div>
          </div>
          <div class="topic-row place">
            <div class="pill">
              <span class="lang-zh">地點</span>
              <span class="lang-en" style="display: none;">Venue</span>
            </div>
            <div>
              <span class="lang-zh">史丹佛大學 Shriram Center（443 Via Ortega, Stanford, CA 94305）</span>
              <span class="lang-en" style="display: none;">Tea Room, Shriram Center, Stanford<br>(443 Via Ortega, Stanford, CA94305)</span>
            </div>
          </div>
          <div class="topic-row">
            <div class="pill">
              <span class="lang-zh">形式</span>
              <span class="lang-en" style="display: none;">Format</span>
            </div>
            <div>
              <span class="lang-zh">混合進行<br>• 現場參與：預計 50 至 80 人<br>• 線上參與：與臺灣觀眾連線（需事先報名）</span>
              <span class="lang-en" style="display: none;">Hybrid<br>• In person: 50-80 ppl.<br>• Online: connect with Taiwan audience (By registration only)</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <h2 id="s1-speakers">亮點講者<span>｜Featured Speakers</span></h2>

    <!-- speakers carousel: 2 pages, 3 speakers each -->
    <div class="speakers-carousel" aria-roledescription="carousel">
      <div class="speaker-pages">
        <!-- page 1 -->
        <div class="speaker-grid speaker-page" data-page="0">
          <div class="speaker">
            <img class="photo" src="assets/img/Philip-Wong.png" alt="黃漢森">
            <div class="meta">
              <div class="name">黃漢森</div>
              <div class="title-chip"></div>
            </div>
            <div class="bio-card"><div class="bio-desc"></div></div>
          </div>
          <div class="speaker">
            <img class="photo" src="assets/img/Huang-Xilin.png" alt="黃錫霖">
            <div class="meta">
              <div class="name">黃錫霖</div>
              <div class="title-chip"></div>
            </div>
            <div class="bio-card"><div class="bio-desc"></div></div>
          </div>
          <div class="speaker">
            <img class="photo" src="assets/img/Horsley-David.png" alt="David Horsley">
            <div class="meta">
              <div class="name">David Horsley</div>
              <div class="title-chip"></div>
            </div>
            <div class="bio-card"><div class="bio-desc"></div></div>
          </div>
        </div>
        <!-- page 2 -->
        <div class="speaker-grid speaker-page" data-page="1">
          <div class="speaker">
            <img class="photo" src="assets/img/Shen-Wenbing.png" alt="沈文冰">
            <div class="meta">
              <div class="name">沈文冰</div>
              <div class="title-chip"></div>
            </div>
            <div class="bio-card"><div class="bio-desc"></div></div>
          </div>
          <div class="speaker">
            <img class="photo" src="assets/img/Zhu-Chenzao.png" alt="朱宸佐">
            <div class="meta">
              <div class="name">朱宸佐</div>
              <div class="title-chip"></div>
            </div>
            <div class="bio-card"><div class="bio-desc"></div></div>
          </div>
        </div>
      </div>

      <!-- pager indicators -->
      <div class="speaker-pager" role="tablist" aria-label="speaker pages">
        <button class="pager-dot" data-to="0" aria-label="第一頁" aria-current="true"></button>
        <button class="pager-dot" data-to="1" aria-label="第二頁" aria-current="false"></button>
      </div>
    </div>

    <h2 id="s1-about">
      <span class="lang-zh">活動簡介<span>｜About the Forum</span></span>
      <span class="lang-en" style="display: none;">活動簡介<span>｜About the Forum</span></span>
    </h2>
    <div class="lang-zh">
      <p>在人工智慧與先進技術重塑全球產業的時代，半導體產業位居變革前線，是推動創新與進步的核心動力。當前對於高度專業技術人才的需求前所未有地迫切。本次論壇旨在強調培育因應挑戰、推動半導體產業持續發展之關鍵人才的重要性。</p>
    </div>
    <div class="lang-en" style="display: none;">
      <p>In an era where artificial intelligence and advanced technologies are reshaping industries worldwide, the semiconductor sector stands at the forefront, powering innovations and driving progress. The demand for a highly skilled workforce in this field has never been more pressing. This seminar aims to highlight the significance of cultivating talent that can meet these challenges and propel the semiconductor industry into the future.</p>
    </div>

    <h2>
      <span class="lang-zh">主要議題<span>｜Key Topics</span></span>
      <span class="lang-en" style="display: none;">主要議題<span>｜Key Topics to be Covered</span></span>
    </h2>
    <div class="lang-zh">
      <p><strong>人工智慧時代的半導體人才重要性：</strong><br>
      隨著人工智慧驅動現今多數科技進展，半導體所扮演的角色愈加關鍵。與會講者將探討半導體創新如何實現 AI 技術能力，以及為何培育該領域人才對持續技術進展至關重要。</p>
      
      <p><strong>教育策略與產學合作：</strong><br>
      了解學界與半導體產業如何合作發展教育課程、實習與訓練機會，以培養學生與專業人士具備應用於實務的能力。</p>
      
      <p><strong>全球人才發展的挑戰與機會：</strong><br>
      探討全球在半導體人才培育上的整體布局，包括各地區所面臨的挑戰與可能創造一致性與高素質全球人力的潛力機會。</p>
      
      <p><strong>未來技能與人才準備：</strong><br>
      掌握半導體專業人員日益重要的新興技能與知識領域。與會講者將說明如何保持競爭優勢，確保人才具備迎接未來科技發展的準備。</p>
    </div>
    <div class="lang-en" style="display: none;">
      <p><strong>The Importance of Semiconductor Talent for the AI Era:</strong><br>
      With AI driving much of the technological advancements today, the role of semiconductors is ever more critical. Our speakers will discuss how semiconductor innovations are enabling AI capabilities and why nurturing talent in this space is crucial for continued progress.</p>
      
      <p><strong>Educational Strategies and Industry Collaboration:</strong><br>
      Learn about the collaborative efforts between academia and the semiconductor industry to develop education programs, internships, and training opportunities that prepare students and professionals for real-world applications.</p>
      
      <p><strong>Global Challenges and Opportunities in Talent Development:</strong><br>
      Explore the global landscape of semiconductor talent cultivation, including the challenges faced by different regions and the potential opportunities to create a cohesive and skilled global workforce.</p>
      
      <p><strong>Future Skillsets and Workforce Preparedness:</strong><br>
      Discover the emerging skills and knowledge areas that are becoming essential for professionals in the semiconductor industry. Our speakers will discuss how to stay ahead of the curve and ensure workforce readiness for future technological developments.</p>
    </div>

    <h2 id="s1-agenda">活動議程<span>｜Agenda</span></h2>

    <!-- 時間切換器 -->
    <div class="time-toggle">
      <div class="time-toggle-track">
        <div class="time-toggle-slider"></div>
        <button class="time-option active" data-timezone="california">
          <span class="lang-zh">加州時間</span>
          <span class="lang-en" style="display: none;">California Time</span>
        </button>
        <button class="time-option" data-timezone="taiwan">
          <span class="lang-zh">台灣時間</span>
          <span class="lang-en" style="display: none;">Taiwan Time</span>
        </button>
      </div>
    </div>

    <div class="schedule-table">
      <div class="schedule-header">
        <div class="time-col">
          <span class="california-time-zh lang-zh">加州時間</span>
          <span class="california-time-en lang-en" style="display: none;">California Time</span>
          <span class="taiwan-time-zh lang-zh" style="display: none;">台灣時間</span>
          <span class="taiwan-time-en lang-en" style="display: none;">Taiwan Time</span>
        </div>
        <div class="content-col">
          <span class="lang-zh">活動內容</span>
          <span class="lang-en" style="display: none;">Program</span>
        </div>
      </div>
      
      <div class="schedule-row">
        <div class="time-cell">
          <span class="california-time">4:30 – 5:00 PM</span>
          <span class="taiwan-time" style="display: none;">7:30 – 8:00 AM</span>
        </div>
        <div class="content-cell">
          <span class="lang-zh">報到與入場</span>
          <span class="lang-en" style="display: none;">Registration & Check-in</span>
        </div>
      </div>
      
      <div class="schedule-row">
        <div class="time-cell">
          <span class="california-time">5:00 – 5:05 PM</span>
          <span class="taiwan-time" style="display: none;">8:00 – 8:05 AM</span>
        </div>
        <div class="content-cell">
          <div class="lang-zh">
            開場致詞
            <ul>
              <li>吳誠文 主委 <span class="title">/ 國科會</span></li>
              <li>黃錫瑜 主任 <span class="title">/ 國研院科政中心</span></li>
            </ul>
          </div>
          <div class="lang-en" style="display: none;">
            Opening Remarks
            <ul>
              <li>Cheng-Wen Wu, Chairman <span class="title">/ NSTC</span></li>
              <li>Sy-Yen Kuo, Director <span class="title">/ NARL STPI</span></li>
            </ul>
          </div>
        </div>
      </div>
      
      <div class="schedule-row">
        <div class="time-cell">
          <span class="california-time">5:05 – 5:20 PM</span>
          <span class="taiwan-time" style="display: none;">8:05 – 8:20 AM</span>
        </div>
        <div class="content-cell">
          <div class="lang-zh">
            專題演講：未來半導體人才
            <ul>
              <li>David Horsley 教授 <span class="title">/ 加州大學戴維斯分校</span></li>
            </ul>
          </div>
          <div class="lang-en" style="display: none;">
            Keynote Speech: Future Semiconductor Talent
            <ul>
              <li>Professor David Horsley <span class="title">/ UC Davis</span></li>
            </ul>
          </div>
        </div>
      </div>
      
      <div class="schedule-row">
        <div class="time-cell">
          <span class="california-time">5:20 – 5:35 PM</span>
          <span class="taiwan-time" style="display: none;">8:20 – 8:35 AM</span>
        </div>
        <div class="content-cell">
          <div class="lang-zh">
            專題演講．講者邀請中
            <ul>
              <li>美國應材公司</li>
            </ul>
          </div>
          <div class="lang-en" style="display: none;">
            Keynote Speech · Speaker TBA
            <ul>
              <li>Applied Materials USA</li>
            </ul>
          </div>
        </div>
      </div>
      
      <div class="schedule-row">
        <div class="time-cell">
          <span class="california-time">5:35 – 6:35 PM</span>
          <span class="taiwan-time" style="display: none;">8:35 – 9:35 AM</span>
        </div>
        <div class="content-cell">
          <div class="lang-zh">
            台積電觀點：所需人才與實務需求分享
            <ul>
              <li>沈文冰 副處長 <span class="title">/ 智慧應用整合處</span></li>
              <li>Tzung-Hua Lin <span class="title">/ R&D Manager</span></li>
              <li>Steve Wang <span class="title">/ Design Technology Platforms Manager</span></li>
              <li>Chun-Yu Lin <span class="title">/ HR Manager</span></li>
              <li>TBC <span class="title">/ Operation Manager</span></li>
            </ul>
          </div>
          <div class="lang-en" style="display: none;">
            TSMC Perspective: Talent Needs & Practical Requirements
            <ul>
              <li>Wen-Ping Shen, Deputy Director <span class="title">/ Intelligent Applications & Integration</span></li>
              <li>Tzung-Hua Lin <span class="title">/ R&D Manager</span></li>
              <li>Steve Wang <span class="title">/ Design Technology Platforms Manager</span></li>
              <li>Chun-Yu Lin <span class="title">/ HR Manager</span></li>
              <li>TBC <span class="title">/ Operation Manager</span></li>
            </ul>
          </div>
        </div>
      </div>
      
      <div class="schedule-row">
        <div class="time-cell">
          <span class="california-time">6:35 – 6:45 PM</span>
          <span class="taiwan-time" style="display: none;">9:35 – 9:45 AM</span>
        </div>
        <div class="content-cell">
          <span class="lang-zh">現場問答</span>
          <span class="lang-en" style="display: none;">Q&A Session</span>
        </div>
      </div>
      
      <div class="schedule-row">
        <div class="time-cell">
          <span class="california-time">6:45 – 8:00 PM</span>
          <span class="taiwan-time" style="display: none;">9:45 – 11:00 AM</span>
        </div>
        <div class="content-cell">
          <span class="lang-zh">茶會暨交流（僅限現場參與者）</span>
          <span class="lang-en" style="display: none;">Networking Reception (On-site attendees only)</span>
        </div>
      </div>
    </div>

    <!-- 立即報名按鈕（移至頁面底部） -->
    <div style="text-align: center; margin: 40px 0; display: none;">
      <a href="#" class="register-btn">
        <span class="lang-zh">立 即 報 名</span>
        <span class="lang-en" style="display: none;">Register Now</span>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true"><path d="M8 4l8 8-8 8"/></svg>
      </a>
    </div>

  </div>
</section>

<!-- 第二場活動資訊 -->
<section class="event-info" id="s2-info" style="display: none;">
  <div class="inner">
    <div class="topic-wrap">
      <div class="topic-badge">
        大語言模型運算需求之 Edge AI 晶片設計與實踐經驗
        <div class="topic-en">Powering the Future of Large Language Models with Edge AI Chips</div>
      </div>

      <div class="topic-rows">
        <div class="topic-rows-inner">
          <div class="topic-row">
            <div class="pill">時間</div>
            <div>2025 年 10 月 14 日 (二) 上午 10:30 至 下午 12:30</div>
          </div>
          <div class="topic-row place">
            <div class="pill">地點</div>
            <div>工研院 BR6 科技大樓 中教室 (台北市復興南路二段 237 號 4 樓)</div>
          </div>
          <div class="topic-row">
            <div class="pill">形式</div>
            <div>混合進行<br>• 實體會場：免費報名，即日起至額滿為止，預定 40 名<br>• 線上參加：報名後提供連線資訊</div>
          </div>
        </div>
      </div>
    </div>

    <h2 id="s2-speakers" style="margin-top: 48px;">亮點講者<span>｜Featured Speakers</span></h2>

    <!-- speakers: 3 speakers, no carousel needed -->
    <div class="speakers-carousel" aria-roledescription="carousel">
      <div class="speaker-pages">
        <div class="speaker-grid speaker-page" data-page="0">
          <div class="speaker">
            <img class="photo" src="assets/img/speaker1-2.png" alt="黃錫瑜">
            <div class="meta">
              <div class="name">黃錫瑜</div>
              <div class="title-chip">國研院科政中心主任<br>清大電機工程系教授</div>
            </div>
            <div class="bio-card">
              <div class="bio-desc">人物簡介先放暫時的假字。黃錫瑜教授專注於半導體技術與系統整合研究，在產學合作與技術轉移方面擁有豐富經驗。</div>
            </div>
          </div>
          <div class="speaker">
            <img class="photo" src="assets/img/speaker2-2.png" alt="黃錫霖">
            <div class="meta">
              <div class="name">黃錫霖</div>
              <div class="title-chip">千逢科技公司執行長<br>交通大學電機碩士</div>
            </div>
            <div class="bio-card">
              <div class="bio-desc">人物簡介先放暫時的假字。黃錫霖執行長在邊緣運算與AI晶片設計領域具有深厚的產業實務經驗。</div>
            </div>
          </div>
          <div class="speaker">
            <img class="photo" src="assets/img/speaker3-2.png" alt="林哲民">
            <div class="meta">
              <div class="name">林哲民</div>
              <div class="title-chip">史丹佛大學應用物理系博後研究員<br>中山大學物理學博士</div>
            </div>
            <div class="bio-card">
              <div class="bio-desc">人物簡介先放暫時的假字。林哲民博士專精於量子材料與新世代運算技術，在前沿物理研究方面有突出貢獻。</div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- No pager needed for single page -->
    </div>

    <h2 id="s2-about">活動簡介<span>｜About the Forum</span></h2>
    <div>
      <p>隨著大型語言模型（LLMs） 帶動人工智慧快速演進，龐大的運算需求推動 Edge AI 晶片成為新世代的關鍵技術。如何在效能、能耗與應用場域之間取得平衡，不僅需要創新的運算架構與演算法設計，更仰賴新材料與晶片製程的突破。</p>
      <p>本場論壇匯聚來自產業與學界的前瞻專家，從產業實務、材料創新到跨域應用深入剖析 Edge AI 的未來機遇，並探討臺灣在全球半導體生態系中的角色與挑戰。</p>
    </div>

    <h2>主要議題<span>｜Key Topics</span></h2>
    <div>
      <h3><span class="event-highlight">技術分享：從自旋到拓樸的材料革新</span></h3>
      <p>林哲民 博士 <span class="title">/ 美國史丹佛大學應用物理系 博士後</span></p>
      <p>以尖端物理研究切入，揭示新世代量子材料如何驅動邊緣運算效能突破，展望從學術研究到產業應用的轉化潛力。</p>
      
      <h3><span class="event-highlight">綜合座談：從學術到產業，邊緣運算應用場域的實務與挑戰</span></h3>
      <p>主持人：黃錫瑜 主任 <span class="title">/ 國研院科政中心、國立清華大學電機系教授</span></p>
      <p>邀集講者進行跨域對談，聚焦如何將前沿研究成果落地至產業應用，並探討人才培育、技術交流與國際鏈結的未來方向。</p>
    </div>

    <h2 id="s2-agenda">活動議程<span>｜Agenda</span></h2>

    <div class="schedule-table">
      <div class="schedule-header">
        <div class="time-col">活動時間</div>
        <div class="content-col">活動內容</div>
      </div>
      
      <div class="schedule-row">
        <div class="time-cell">10:15 – 10:35</div>
        <div class="content-cell">報到與入場</div>
      </div>
      
      <div class="schedule-row">
        <div class="time-cell">10:30 – 10:35</div>
        <div class="content-cell">
          開場與歡迎致詞
          <ul>
            <li>黃錫瑜 <span class="title">/ 國研院科政中心主任</span></li>
          </ul>
        </div>
      </div>
      
      <div class="schedule-row">
        <div class="time-cell">10:35 – 11:05</div>
        <div class="content-cell">
          AI 的模型與運算技術的演變
          <ul>
            <li>黃錫霖 <span class="title">/ 千逢科技股份有限公司執行長</span></li>
          </ul>
        </div>
      </div>
      
      <div class="schedule-row">
        <div class="time-cell">11:05 – 11:35</div>
        <div class="content-cell">
          技術分享：從自旋到拓樸的材料革新
          <ul>
            <li>林哲民 <span class="title">/ 美國史丹佛大學應用物理系博士</span></li>
          </ul>
        </div>
      </div>
      
      <div class="schedule-row">
        <div class="time-cell">11:35 – 12:05</div>
        <div class="content-cell">
          綜合座談：從學術到產業，邊緣運算應用場域的實務與挑戰
          <br><br>
          <span class="role-tag">主持人</span>
          <ul style="margin-top: 8px;">
            <li>黃錫瑜 <span class="title">/ 國研院科政中心主任</span></li>
          </ul>
          <span class="role-tag">與談人</span>
          <ul style="margin-top: 8px;">
            <li>黃錫霖 <span class="title">/ 千逢科技股份有限公司執行長</span></li>
            <li>林哲民 <span class="title">/ 美國史丹佛大學應用物理博後</span></li>
          </ul>
        </div>
      </div>
      
      <div class="schedule-row">
        <div class="time-cell">12:05 – 12:30</div>
        <div class="content-cell">
          <strong>餐盒分享</strong><br>
          <span style="font-weight: normal;">會後貴賓午宴席</span>
        </div>
      </div>
    </div>

    <h2>會場位置｜Venue Location</h2>
    <div style="text-align: center; margin: 24px 0;">
      <div style="margin: 20px auto; max-width: 900px;">
        <div style="margin-bottom: 20px;">
          <p style="font-size: 1.2em; margin-bottom: 8px; font-weight: 600;">工研院 BR6 科技大樓 中教室</p>
          <p style="font-size: 1.1em; color: #cfd6e6;">台北市復興南路二段 237 號 4 樓</p>
        </div>
        <!-- Google Maps 嵌入地圖 -->
        <div style="border-radius: 8px; overflow: hidden; box-shadow: 0 8px 24px rgba(0,0,0,0.3);">
          <iframe
            src="https://www.google.com/maps/embed?pb=!1m14!1m8!1m3!1d14459.557142973939!2d121.5437351!3d25.0259584!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3442aa2c1e0bf393%3A0x608bf57447782df9!2z5Y-w5YyX5biC5aSn5a6J5Y2A5bu95pil5Y2X6Lev5LqM5q61MjM3!5e0!3m2!1szh-TW!2stw!4v1692345678901!5m2!1szh-TW!2stw"
            width="100%" 
            height="450" 
            style="border:0; border-radius: 8px;" 
            allowfullscreen="" 
            loading="lazy"
            referrerpolicy="no-referrer-when-downgrade">
          </iframe>
        </div>
      </div>
    </div>
    </div>

    <div style="text-align: center; margin: 40px 0; display: none;">
      <a href="#" class="register-btn">
        立 即 報 名
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true"><path d="M8 4l8 8-8 8"/></svg>
      </a>
    </div>

  </div>
</section>

<!-- 第三場活動資訊 -->
<section class="event-info" id="s3-info" style="display: none;">
  <div class="inner">
    <div class="topic-wrap">
      <div class="topic-badge">
        第三場論壇主題（待確定）
        <div class="topic-en">Third Forum Topic (TBD)</div>
      </div>
    </div>
    
    <div style="text-align: center; margin: 100px 0;">
      <h2>第三場內容籌備中</h2>
      <p>詳細資訊將陸續公布，敬請期待。</p>
    </div>
  </div>
</section>

<!-- 第四場活動資訊 -->
<section class="event-info" id="s4-info" style="display: none;">
  <div class="inner">
    <div class="topic-wrap">
      <div class="topic-badge">
        第四場論壇主題（待確定）
        <div class="topic-en">Fourth Forum Topic (TBD)</div>
      </div>
    </div>
    
    <div style="text-align: center; margin: 100px 0;">
      <h2>第四場內容籌備中</h2>
      <p>詳細資訊將陸續公布，敬請期待。</p>
    </div>
  </div>
</section>

<footer class="sponsor-footer" aria-label="主辦與協辦單位">
  <div class="inner">
    <!-- 指導單位 -->
    <div class="sponsor-block">
      <div class="sponsor-tag">
        <span class="lang-zh">指導單位</span>
        <span class="lang-en" style="display: none;">Guidance Unit</span>
      </div>
      <img class="sponsor-logo" src="assets/img/organizer-logo.png" alt="國家科學及技術委員會">
    </div>

    <!-- 主辦單位 -->
    <div class="sponsor-block">
      <div class="sponsor-tag">
        <span class="lang-zh">主辦單位</span>
        <span class="lang-en" style="display: none;">Organizer</span>
      </div>
      <img class="sponsor-logo" src="assets/img/partner-logo.png" alt="科技政策研究與資訊中心">
    </div>
  </div>
</footer>

<!-- ===== HERO右上角懸浮橫向表單（圓角磨砂玻璃質感，滑過logo後浮現） ===== -->
<div id="floatingTabBar" class="floating-tab-bar">
  <ul>
    <li><a href="#speakers">
      <span class="lang-zh">亮點講者</span>
      <span class="lang-en" style="display: none;">Speakers</span>
    </a></li>
    <li><a href="#about">
      <span class="lang-zh">活動簡介</span>
      <span class="lang-en" style="display: none;">About</span>
    </a></li>
    <li><a href="#agenda">
      <span class="lang-zh">活動議程</span>
      <span class="lang-en" style="display: none;">Agenda</span>
    </a></li>
    <li>
      <span class="lang-zh">精彩回顧</span>
      <span class="lang-en" style="display: none;">Highlights</span>
    </li>
  </ul>
</div>

<!-- ===== 分享功能（在浮動選單下方） ===== -->
<div id="floatingShare" class="floating-share">
  <div class="share-container">
    <button class="share-trigger" title="分享至社群">
      <svg viewBox="0 0 24 24" class="icon">
        <circle cx="18" cy="5" r="3"/>
        <circle cx="6" cy="12" r="3"/>
        <circle cx="18" cy="19" r="3"/>
        <line x1="8.59" y1="13.51" x2="15.42" y2="17.49"/>
        <line x1="15.41" y1="6.51" x2="8.59" y2="10.49"/>
      </svg>
    </button>
    <div class="share-menu">
      <a href="#" class="share-item share-facebook" title="分享到 Facebook">
        <img src="assets/img/svg_fb.svg" alt="Facebook">
      </a>
      <a href="#" class="share-item share-line" title="分享到 Line">
        <img src="assets/img/svg_line.svg" alt="Line">
      </a>
      <a href="#" class="share-item share-twitter" title="分享到 X (Twitter)">
        <img src="assets/img/svg_X.svg" alt="X">
      </a>
      <a href="#" class="share-item share-linkedin" title="分享到 LinkedIn">
        <img src="assets/img/svg_linkedin.svg" alt="LinkedIn">
      </a>
    </div>
  </div>
</div>

<script>
/* 切換選取中的日期卡並顯示對應活動內容 */
document.querySelectorAll('.bar-item').forEach(btn=>{
  btn.addEventListener('click', ()=>{
    // 更新按鈕狀態
    document.querySelectorAll('.bar-item')
      .forEach(b=> b.setAttribute('aria-current', b === btn ? 'true' : 'false'));
    
    // 獲取點擊按鈕的 data-id
    const targetId = btn.getAttribute('data-id');
    
    // 停止所有活動的輪播
    document.querySelectorAll('.event-info').forEach(section => {
      const carousel = section.querySelector('.speakers-carousel');
      if (carousel && carousel.stopAutoplay) {
        carousel.stopAutoplay();
      }
    });
    
    // 隱藏所有活動資訊
    document.querySelectorAll('.event-info').forEach(section => {
      section.style.display = 'none';
    });
    
    // 顯示對應的活動資訊
    const targetSection = document.getElementById(`${targetId}-info`);
    if (targetSection) {
      targetSection.style.display = 'block';
      
      // 更新浮動表單的錨點
      updateFloatingMenuAnchors(targetId);
      
      // 如果新顯示的活動有輪播功能，重新啟動自動播放
      const carousel = targetSection.querySelector('.speakers-carousel');
      if (carousel && carousel.startAutoplay) {
        setTimeout(() => {
          carousel.startAutoplay();
        }, 100);
      }
    }
  });
});

/* 更新浮動表單錨點 */
function updateFloatingMenuAnchors(currentEventId) {
  const floatingMenu = document.getElementById('floatingTabBar');
  if (!floatingMenu) return;
  
  const links = floatingMenu.querySelectorAll('a[href^="#"]');
  
  links.forEach(link => {
    const originalHref = link.getAttribute('href');
    if (originalHref === '#speakers' || originalHref.includes('-speakers')) {
      // 講者錨點根據當前活動調整
      link.setAttribute('href', `#${currentEventId}-speakers`);
    } else if (originalHref === '#about' || originalHref.includes('-about')) {
      // 活動簡介錨點
      link.setAttribute('href', `#${currentEventId}-about`);
    } else if (originalHref === '#agenda' || originalHref.includes('-agenda')) {
      // 議程錨點
      link.setAttribute('href', `#${currentEventId}-agenda`);
    }
  });
}

/* 講師輪播 */
(function(){
  // 為每個活動單獨初始化輪播
  const eventSections = document.querySelectorAll('.event-info');
  
  eventSections.forEach(section => {
    const carousel = section.querySelector('.speakers-carousel');
    const pagesWrap = section.querySelector('.speaker-pages');
    const pages = Array.from(section.querySelectorAll('.speaker-page'));
    const dots = Array.from(section.querySelectorAll('.pager-dot'));
    
    // 如果沒有輪播元素或只有一頁，跳過
    if (!carousel || !pagesWrap || pages.length <= 1 || dots.length === 0) return;

    let current = 0;
    let autoplayId = null;
    const AUTOPLAY_DELAY = 8000;
    let isPaused = false;

    function isNarrow(){ return window.innerWidth <= 768; }

    function updateUI(){
      // 在窄版（手機版）不執行輪播移動
      if (isNarrow()) {
        // 手機版重置transform並顯示所有頁面
        pagesWrap.style.transform = 'translateX(0px)';
        pages.forEach(p=> p.setAttribute('aria-hidden', 'false'));
        dots.forEach(d=> d.setAttribute('aria-current', 'false'));
        return;
      }
      
      const offset = -current * carousel.clientWidth;
      pagesWrap.style.transform = `translateX(${offset}px)`;
      pages.forEach((p,i)=> p.setAttribute('aria-hidden', i===current ? 'false' : 'true'));
      dots.forEach((d,i)=> d.setAttribute('aria-current', i===current ? 'true' : 'false'));
    }

    function goTo(idx){
      current = (idx + pages.length) % pages.length;
      updateUI();
    }

    function next(){ goTo(current + 1); }
    function prev(){ goTo(current - 1); }

    function startAutoplay(){ 
      stopAutoplay(); 
      // 只有當前顯示的活動且不是窄版時才啟動自動播放
      if (!isPaused && !isNarrow() && section.style.display !== 'none') {
        autoplayId = setInterval(next, AUTOPLAY_DELAY); 
      }
    }
    function stopAutoplay(){ if (autoplayId) { clearInterval(autoplayId); autoplayId = null; } }

    // pager click - 窄版時不執行
    dots.forEach(d=> d.addEventListener('click', ()=>{ 
      if (isNarrow()) return; // 窄版不執行輪播
      const to = Number(d.dataset.to); 
      if (!Number.isNaN(to)) { goTo(to); startAutoplay(); } 
    }));

    // pause on hover / focus - 只在桌機版有效
    if (!isNarrow()) {
      carousel.addEventListener('mouseenter', ()=>{ isPaused = true; stopAutoplay(); });
      carousel.addEventListener('mouseleave', ()=>{ isPaused = false; startAutoplay(); });
      carousel.addEventListener('focusin', ()=>{ isPaused = true; stopAutoplay(); });
      carousel.addEventListener('focusout', ()=>{ isPaused = false; startAutoplay(); });
    }

    // keyboard navigation - 窄版時不執行
    carousel.addEventListener('keydown', (e)=>{
      if (isNarrow()) return; // 窄版不執行鍵盤導航
      if (e.key === 'ArrowRight') { next(); startAutoplay(); }
      if (e.key === 'ArrowLeft') { prev(); startAutoplay(); }
    });
    carousel.tabIndex = 0;

    // swipe support (touch)
    let touchStartX = 0; let touchDeltaX = 0; let isTouching = false;
    if (!isNarrow()){
      carousel.addEventListener('touchstart', (e)=>{ stopAutoplay(); isTouching=true; touchStartX = e.touches[0].clientX; touchDeltaX=0; }, {passive:true});
      carousel.addEventListener('touchmove', (e)=>{ if(!isTouching) return; touchDeltaX = e.touches[0].clientX - touchStartX; pagesWrap.style.transform = `translateX(${ -current * carousel.clientWidth + touchDeltaX }px)`; }, {passive:true});
      carousel.addEventListener('touchend', ()=>{
        isTouching=false;
        const THRESHOLD = 60;
        if (touchDeltaX > THRESHOLD) { prev(); }
        else if (touchDeltaX < -THRESHOLD) { next(); }
        else { goTo(current); }
        touchDeltaX=0; startAutoplay();
      });
    }

    // resize: recalculate transform
    window.addEventListener('resize', ()=> {
      updateUI();
      // 如果在resize後變成窄版，停止自動播放
      if (isNarrow()) {
        stopAutoplay();
      } else {
        // 只有當前顯示的活動才啟動自動播放
        if (section.style.display !== 'none') {
          startAutoplay();
        }
      }
    });

    // init
    updateUI();
    // 只有第一個活動（第一場）預設顯示時才啟動自動播放
    if (section.id === 's1-info') {
      startAutoplay();
    }
  });
})();

/* 浮動選單控制 */
function updateFloatingOffset() {
  const tabBar = document.getElementById('floatingTabBar') || document.querySelector('.floating-tab-bar');
  let menuHeight = 0;
  if (tabBar) {
    const cs = window.getComputedStyle(tabBar);
    if (cs.display !== 'none' && parseFloat(cs.opacity) > 0) {
      menuHeight = Math.min(tabBar.getBoundingClientRect().height, 96);
    }
  }
  const vw = window.innerWidth || document.documentElement.clientWidth;
  let extra;
  let minOffset;
  if (vw <= 480) {
    extra = 14; minOffset = 72;
  } else if (vw <= 768) {
    extra = 18; minOffset = 96;
  } else {
    extra = 28; minOffset = 140;
  }
  const offset = Math.max(minOffset, Math.ceil(menuHeight + extra));
  document.documentElement.style.setProperty('--floating-offset', offset + 'px');
}

// 尺寸對齊測量工具 - 開發用
function measureAlignment() {
  const bioCards = document.querySelectorAll('.bio-card');
  const floatingMenu = document.querySelector('.floating-tab-bar');
  
  if (bioCards.length > 0 && floatingMenu) {
    const bioCard = bioCards[0];
    console.log('=== 尺寸對齊測量 ===');
    console.log('視窗寬度:', window.innerWidth);
    console.log('Bio Card 寬度:', bioCard.offsetWidth);
    console.log('Bio Card Left:', bioCard.getBoundingClientRect().left);
    console.log('Bio Card Right:', bioCard.getBoundingClientRect().right);
    console.log('浮動選單寬度:', floatingMenu.offsetWidth);
    console.log('浮動選單 Left:', floatingMenu.getBoundingClientRect().left);
    console.log('浮動選單 Right:', floatingMenu.getBoundingClientRect().right);
    console.log('寬度差異:', Math.abs(bioCard.offsetWidth - floatingMenu.offsetWidth));
    console.log('左邊距差異:', Math.abs(bioCard.getBoundingClientRect().left - floatingMenu.getBoundingClientRect().left));
    
    // 計算理想的 left/right 值
    const bioRect = bioCard.getBoundingClientRect();
    const idealLeft = bioRect.left;
    const idealRight = window.innerWidth - bioRect.right;
    console.log('建議的 CSS 設定:');
    console.log(`left: ${idealLeft}px; right: ${idealRight}px;`);
  }
}

updateFloatingOffset();
window.addEventListener('resize', updateFloatingOffset);
document.addEventListener('DOMContentLoaded', () => {
  updateFloatingOffset();
  // 初始化浮動表單錨點（預設第一場）
  updateFloatingMenuAnchors('s1');
});

// 添加測量功能
window.addEventListener('load', measureAlignment);
window.addEventListener('resize', measureAlignment);

let _resizeTimer = null;
window.addEventListener('resize', ()=>{
  if (_resizeTimer) clearTimeout(_resizeTimer);
  _resizeTimer = setTimeout(()=>{ updateFloatingOffset(); _resizeTimer = null; }, 120);
});

if (document.fonts && document.fonts.ready) {
  document.fonts.ready.then(()=>{
    updateFloatingOffset();
    setTimeout(updateFloatingOffset, 250);
  }).catch(()=>{});
}

/* HERO右上角懸浮橫向表單（滑過logo後浮現） */
(function(){
  const tabBar = document.getElementById('floatingTabBar');
  const logo = document.querySelector('.hero-logo');
  let rafId = null;
  const THRESHOLD_FRACTION = 0.25;
  function toggleTabBar() {
    if (!tabBar || !logo) return;
    const rect = logo.getBoundingClientRect();
    const triggerPoint = rect.top + rect.height * THRESHOLD_FRACTION;
    const shouldShow = (triggerPoint < 0);
    const isMobile = window.innerWidth <= 768;
    
    // 同時控制分享選單
    const shareMenu = document.getElementById('floatingShare');

    if (rafId) cancelAnimationFrame(rafId);
    rafId = requestAnimationFrame(()=>{
      if (shouldShow) {
        // 使用 class 控制顯示，避免 backdrop-filter 閃爍
        tabBar.classList.add('is-visible');
        if (shareMenu) shareMenu.classList.add('is-visible');
        // 保持 transform 動畫
        tabBar.style.transform = 'translateY(0)';
        if (typeof updateFloatingOffset === 'function') updateFloatingOffset();
      } else {
        // 隱藏時移除 class
        tabBar.classList.remove('is-visible');
        if (shareMenu) shareMenu.classList.remove('is-visible');
        // 保持 transform 動畫
        tabBar.style.transform = 'translateY(-10px)';
      }
    });
  }
  window.addEventListener('scroll', toggleTabBar);
  window.addEventListener('resize', toggleTabBar);
  document.addEventListener('DOMContentLoaded', toggleTabBar);
})();

/* 錨點平滑滾動 */
document.querySelectorAll('.floating-tab-bar a[href^="#"]').forEach(a=>{
  a.addEventListener('click', function(e){
    const target = document.querySelector(this.getAttribute('href'));
    if(!target) return;
    e.preventDefault();
    const offset = parseInt(getComputedStyle(document.documentElement).getPropertyValue('--floating-offset')) || 88;
    const top = target.getBoundingClientRect().top + window.scrollY - offset;
    window.scrollTo({ top: Math.max(0, top), behavior: 'smooth' });
  });
});

/* 按鈕功能 */
document.querySelectorAll('.register-btn').forEach(btn=>{
  btn.onclick = function(e) {
    e.preventDefault();
    alert('報名網站尚未開放');
  };
});

const _ftb = document.getElementById('floatingTabBar');
if (_ftb) {
  _ftb.addEventListener('transitionend', (ev)=>{
    if (ev.propertyName === 'opacity' || ev.propertyName === 'transform') updateFloatingOffset();
  });
}

window.addEventListener('orientationchange', ()=> setTimeout(updateFloatingOffset, 250));
window.addEventListener('load', updateFloatingOffset);

/* 語言切換功能 */
function initLanguageToggle() {
  const languageToggle = document.querySelector('.language-toggle-track');
  const languageOptions = document.querySelectorAll('.language-option');
  
  if (!languageToggle || !languageOptions.length) return;
  
  let currentLang = 'zh'; // 預設為繁體中文
  
  // 切換語言內容
  function switchLanguage(lang) {
    currentLang = lang;
    
    // 更新切換器狀態
    languageToggle.setAttribute('data-active', lang);
    languageOptions.forEach(option => {
      option.classList.toggle('active', option.dataset.lang === lang);
    });
    
    // 切換內容顯示
    const zhElements = document.querySelectorAll('.lang-zh');
    const enElements = document.querySelectorAll('.lang-en');
    
    if (lang === 'zh') {
      zhElements.forEach(el => el.style.display = '');
      enElements.forEach(el => el.style.display = 'none');
      
      // 中文模式時，自動切換到台灣時間
      if (window.switchTimezone) {
        window.switchTimezone('taiwan');
      }
    } else {
      zhElements.forEach(el => el.style.display = 'none');
      enElements.forEach(el => el.style.display = '');
      
      // 英文模式時，自動切換到加州時間
      if (window.switchTimezone) {
        window.switchTimezone('california');
      }
    }
    
    // 更新報名按鈕提示文字
    document.querySelectorAll('.register-btn').forEach(btn => {
      btn.onclick = function(e) {
        e.preventDefault();
        const message = lang === 'zh' ? '報名網站尚未開放' : 'Registration website is not yet available';
        alert(message);
      };
    });
  }
  
  // 綁定點擊事件
  languageOptions.forEach(option => {
    option.addEventListener('click', () => {
      const lang = option.dataset.lang;
      if (lang !== currentLang) {
        switchLanguage(lang);
      }
    });
  });
  
  // 初始化為中文
  switchLanguage('zh');
}

/* 時間切換功能 */
function initTimeToggle() {
  const timeToggle = document.querySelector('.time-toggle-track');
  const timeOptions = document.querySelectorAll('.time-option');
  
  if (!timeToggle || !timeOptions.length) return;
  
  let currentTimezone = 'california'; // 預設為加州時間
  
  // 切換時區顯示
  function switchTimezone(timezone) {
    currentTimezone = timezone;
    
    // 更新切換器狀態
    timeToggle.setAttribute('data-active', timezone);
    timeOptions.forEach(option => {
      option.classList.toggle('active', option.dataset.timezone === timezone);
    });

    // 獲取當前語言狀態
    const currentLang = document.querySelector('.language-option.active')?.dataset.lang || 'zh';
    
    // 切換時間顯示
    const taiwanTimes = document.querySelectorAll('.taiwan-time');
    const californiaTimes = document.querySelectorAll('.california-time');

    if (timezone === 'taiwan') {
      // 顯示台灣時間（在議程表格內容中）
      taiwanTimes.forEach(el => el.style.display = '');
      // 隱藏加州時間（在議程表格內容中）
      californiaTimes.forEach(el => el.style.display = 'none');
      
      // 處理時間標題
      document.querySelectorAll('.california-time-zh, .california-time-en').forEach(el => {
        el.style.display = 'none';
      });
      
      // 根據當前語言顯示對應的台灣時間標題
      if (currentLang === 'zh') {
        document.querySelectorAll('.taiwan-time-zh').forEach(el => el.style.display = '');
        document.querySelectorAll('.taiwan-time-en').forEach(el => el.style.display = 'none');
      } else {
        document.querySelectorAll('.taiwan-time-zh').forEach(el => el.style.display = 'none');
        document.querySelectorAll('.taiwan-time-en').forEach(el => el.style.display = '');
      }
    } else {
      // 顯示加州時間（在議程表格內容中）
      californiaTimes.forEach(el => el.style.display = '');
      // 隱藏台灣時間（在議程表格內容中）
      taiwanTimes.forEach(el => el.style.display = 'none');
      
      // 處理時間標題
      document.querySelectorAll('.taiwan-time-zh, .taiwan-time-en').forEach(el => {
        el.style.display = 'none';
      });
      
      // 根據當前語言顯示對應的加州時間標題
      if (currentLang === 'zh') {
        document.querySelectorAll('.california-time-zh').forEach(el => el.style.display = '');
        document.querySelectorAll('.california-time-en').forEach(el => el.style.display = 'none');
      } else {
        document.querySelectorAll('.california-time-zh').forEach(el => el.style.display = 'none');
        document.querySelectorAll('.california-time-en').forEach(el => el.style.display = '');
      }
    }
  }
  
  // 將 switchTimezone 函數設為全域可訪問
  window.switchTimezone = switchTimezone;
  
  // 綁定點擊事件
  timeOptions.forEach(option => {
    option.addEventListener('click', () => {
      const timezone = option.dataset.timezone;
      if (timezone !== currentTimezone) {
        switchTimezone(timezone);
      }
    });
  });
  
  // 初始化為加州時間
  switchTimezone('california');
}

// 在頁面載入後初始化時間切換器
document.addEventListener('DOMContentLoaded', initTimeToggle);

// 在頁面載入後初始化語言切換器  
document.addEventListener('DOMContentLoaded', initLanguageToggle);

/* 分享功能 */
document.addEventListener('DOMContentLoaded', function() {
  const floatingShare = document.getElementById('floatingShare');
  const shareTrigger = floatingShare?.querySelector('.share-trigger');
  const shareContainer = floatingShare?.querySelector('.share-container');

  let open = false;
  function setOpen(v){
    open = v;
    floatingShare.classList.toggle('is-open', open);
  }

  // 添加按壓回饋效果
  function bindPress(btn, onClick){
    let pressT = null;
    const press = () => {
      btn.classList.add('pressed');
      if (pressT) clearTimeout(pressT);
      // 150ms 後自動恢復顏色
      pressT = setTimeout(()=> btn.classList.remove('pressed'), 150);
    };

    btn.addEventListener('pointerdown', press);
    btn.addEventListener('pointerup',   () => setTimeout(()=>btn.classList.remove('pressed'), 150));
    btn.addEventListener('pointercancel',() => btn.classList.remove('pressed'));
    btn.addEventListener('mouseleave',  () => btn.classList.remove('pressed'));
    btn.addEventListener('click', (e) => {
      e.preventDefault();
      e.stopPropagation();
      press();               // 點擊當下也給一次按壓回饋
      onClick?.();           // 執行原本功能
    }, {passive:false});
  }

  // 綁定分享按鈕的按壓效果
  bindPress(shareTrigger, () => {
    setOpen(!open);
  });

  document.addEventListener('click', (e) => {
    if (!open) return;
    if (!shareContainer.contains(e.target)) setOpen(false);
  });
  
  // 分享連結功能
  const shareItems = document.querySelectorAll('.share-item');
  const currentUrl = window.location.href;
  const title = document.title || '前瞻科技系列論壇';
  
  // 分享連結點擊處理
  shareItems.forEach(item => {
    item.addEventListener('click', function(e) {
      e.preventDefault();
      e.stopPropagation();
      
      let shareUrl = '';
      
      if (item.classList.contains('share-facebook')) {
        shareUrl = `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(currentUrl)}`;
      } else if (item.classList.contains('share-line')) {
        shareUrl = `https://social-plugins.line.me/lineit/share?url=${encodeURIComponent(currentUrl)}`;
      } else if (item.classList.contains('share-twitter')) {
        shareUrl = `https://twitter.com/intent/tweet?url=${encodeURIComponent(currentUrl)}&text=${encodeURIComponent(title)}`;
      } else if (item.classList.contains('share-linkedin')) {
        shareUrl = `https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(currentUrl)}`;
      }
      
      if (shareUrl) {
        window.open(shareUrl, '_blank', 'width=600,height=400,scrollbars=yes,resizable=yes');
        
        // 分享後關閉選單 (手機版)
        if (window.innerWidth <= 768 && isMenuOpen) {
          isMenuOpen = false;
          shareMenu.style.opacity = '0';
          shareMenu.style.visibility = 'hidden';
          shareMenu.style.pointerEvents = 'none';
          shareMenu.style.transform = 'translateY(-10px)';
          shareItems.forEach(item => {
            item.style.opacity = '0';
            item.style.pointerEvents = 'none';
            item.style.transform = 'translateY(10px) scale(0.8)';
          });
        }
      }
    });
  });
});

/* 圓形漂浮按鈕控制 */
document.addEventListener('DOMContentLoaded', function() {
  const floatingBtn = document.getElementById('floatingBtn');
  const downloadBtn = document.querySelector('.download-btn');
  const scrollTopBtn = document.querySelector('.scroll-top-btn');
  
  // 按鈕常駐顯示，不需要滾動控制
  if (floatingBtn) {
    floatingBtn.classList.add('show');
  }
  
  // 確保手機版按鈕正確定位
  function ensureMobileButtonPosition() {
    if (window.innerWidth <= 768) {
      [downloadBtn, scrollTopBtn].forEach(btn => {
        if (btn) {
          btn.style.marginLeft = '12px';
          btn.style.transform = ''; /* 清除任何transform */
        }
      });
    } else {
      [downloadBtn, scrollTopBtn].forEach(btn => {
        if (btn) {
          btn.style.marginLeft = '0';
          btn.style.transform = '';
        }
      });
    }
  }
  
  // 初始化按鈕位置
  ensureMobileButtonPosition();
  
  // 視窗大小改變時重新調整
  window.addEventListener('resize', ensureMobileButtonPosition);
  
  function bindPress(btn, onClick){
    let pressT = null;
    const press = () => {
      btn.classList.add('pressed');
      if (pressT) clearTimeout(pressT);
      // 150ms 後自動恢復顏色（不依賴 animationend）
      pressT = setTimeout(()=> btn.classList.remove('pressed'), 150);
    };

    btn.addEventListener('pointerdown', press);
    btn.addEventListener('pointerup',   () => setTimeout(()=>btn.classList.remove('pressed'), 150));
    btn.addEventListener('pointercancel',() => btn.classList.remove('pressed'));
    btn.addEventListener('mouseleave',  () => btn.classList.remove('pressed'));
    btn.addEventListener('click', (e) => {
      e.preventDefault();
      press();               // 點擊當下也給一次按壓回饋
      onClick?.();           // 執行原本功能
    }, {passive:false});
  }

  bindPress(downloadBtn, () => {
    // 下載：保留你原本的下載動作（或改成真正檔案）
    const link = document.createElement('a');
    link.href = 'data:text/plain;charset=utf-8,前瞻科技系列論壇議程資訊%0A%0A此為示範文件';
    link.download = '前瞻科技論壇議程.txt';
    document.body.appendChild(link); link.click(); document.body.removeChild(link);

    // 如果仍要顯示「下載箭頭」動畫，請：
    // 1) 把動畫定義在按鈕本體 `.download-btn.animate`
    // 2) 這裡用強制重排重新播放一次
    downloadBtn.classList.remove('animate'); void downloadBtn.offsetWidth; downloadBtn.classList.add('animate');
    setTimeout(()=> downloadBtn.classList.remove('animate'), 1200); // 以 timeout 作為保險
  });

  bindPress(scrollTopBtn, () => {
    window.scrollTo({top:0, behavior:'smooth'});
    // 回頂箭頭若要動畫，同上：
    scrollTopBtn.classList.remove('animate'); void scrollTopBtn.offsetWidth; scrollTopBtn.classList.add('animate');
    setTimeout(()=> scrollTopBtn.classList.remove('animate'), 1200);
  });
  
  // 更新報名連結
  const registerLink = floatingBtn?.querySelector('.button a');
  if (registerLink) {
    registerLink.onclick = function(e) {
      e.preventDefault();
      window.open('https://example.com/register', '_blank');
      return false;
    };
  }
});
</script>

</body>
</html>
